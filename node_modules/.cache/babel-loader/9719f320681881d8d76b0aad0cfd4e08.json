{"ast":null,"code":"/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n * \n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n * \n */\n!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define([], t) : \"object\" == typeof exports ? exports.OktaAuth = t() : e.OktaAuth = t();\n}(\"undefined\" != typeof self ? self : this, function () {\n  return function (e) {\n    function t(r) {\n      if (n[r]) return n[r].exports;\n      var o = n[r] = {\n        i: r,\n        l: !1,\n        exports: {}\n      };\n      return e[r].call(o.exports, o, o.exports, t), o.l = !0, o.exports;\n    }\n\n    var n = {};\n    return t.m = e, t.c = n, t.d = function (e, n, r) {\n      t.o(e, n) || Object.defineProperty(e, n, {\n        configurable: !1,\n        enumerable: !0,\n        get: r\n      });\n    }, t.n = function (e) {\n      var n = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return t.d(n, \"a\", n), n;\n    }, t.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, t.p = \"\", t(t.s = 11);\n  }([function (e, t) {\n    var n = e.exports;\n    n.stringToBase64Url = function (e) {\n      var t = btoa(e);\n      return n.base64ToBase64Url(t);\n    }, n.base64ToBase64Url = function (e) {\n      return e.replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=+$/, \"\");\n    }, n.base64UrlToBase64 = function (e) {\n      return e.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    }, n.base64UrlToString = function (e) {\n      var t = n.base64UrlToBase64(e);\n\n      switch (t.length % 4) {\n        case 0:\n          break;\n\n        case 2:\n          t += \"==\";\n          break;\n\n        case 3:\n          t += \"=\";\n          break;\n\n        default:\n          throw \"Not a valid Base64Url\";\n      }\n\n      var r = atob(t);\n\n      try {\n        return decodeURIComponent(escape(r));\n      } catch (e) {\n        return r;\n      }\n    }, n.stringToBuffer = function (e) {\n      for (var t = new Uint8Array(e.length), n = 0; n < e.length; n++) t[n] = e.charCodeAt(n);\n\n      return t;\n    }, n.base64UrlDecode = function (e) {\n      return atob(n.base64UrlToBase64(e));\n    }, n.bind = function (e, t) {\n      var n = Array.prototype.slice.call(arguments, 2);\n      return function () {\n        var r = Array.prototype.slice.call(arguments);\n        return r = n.concat(r), e.apply(t, r);\n      };\n    }, n.isAbsoluteUrl = function (e) {\n      return /^(?:[a-z]+:)?\\/\\//i.test(e);\n    }, n.isString = function (e) {\n      return \"[object String]\" === Object.prototype.toString.call(e);\n    }, n.isObject = function (e) {\n      return \"[object Object]\" === Object.prototype.toString.call(e);\n    }, n.isNumber = function (e) {\n      return \"[object Number]\" === Object.prototype.toString.call(e);\n    }, n.isArray = function (e) {\n      return \"[object Array]\" === Object.prototype.toString.call(e);\n    }, n.isoToUTCString = function (e) {\n      var t = e.match(/\\d+/g),\n          n = Date.UTC(t[0], t[1] - 1, t[2], t[3], t[4], t[5]);\n      return new Date(n).toUTCString();\n    }, n.toQueryParams = function (e) {\n      var t = [];\n      if (null !== e) for (var n in e) e.hasOwnProperty(n) && void 0 !== e[n] && null !== e[n] && t.push(n + \"=\" + encodeURIComponent(e[n]));\n      return t.length ? \"?\" + t.join(\"&\") : \"\";\n    }, n.genRandomString = function (e) {\n      for (var t = \"abcdefghijklnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\", n = \"\", r = 0, o = t.length; r < e; ++r) n += t[Math.floor(Math.random() * o)];\n\n      return n;\n    }, n.extend = function () {\n      var e = arguments[0];\n      return [].slice.call(arguments, 1).forEach(function (t) {\n        for (var n in t) t.hasOwnProperty(n) && void 0 !== t[n] && (e[n] = t[n]);\n      }), e;\n    }, n.removeNils = function (e) {\n      var t = {};\n\n      for (var n in e) if (e.hasOwnProperty(n)) {\n        var r = e[n];\n        null !== r && void 0 !== r && (t[n] = r);\n      }\n\n      return t;\n    }, n.clone = function (e) {\n      if (e) {\n        var t = JSON.stringify(e);\n        if (t) return JSON.parse(t);\n      }\n\n      return e;\n    }, n.omit = function (e) {\n      var t = Array.prototype.slice.call(arguments, 1),\n          r = {};\n\n      for (var o in e) e.hasOwnProperty(o) && -1 == t.indexOf(o) && (r[o] = e[o]);\n\n      return n.clone(r);\n    }, n.find = function (e, t) {\n      for (var n = e.length; n--;) {\n        var r = e[n],\n            o = !0;\n\n        for (var i in t) if (t.hasOwnProperty(i) && r[i] !== t[i]) {\n          o = !1;\n          break;\n        }\n\n        if (o) return r;\n      }\n    }, n.getLink = function (e, t, r) {\n      if (e && e._links) {\n        var o = n.clone(e._links[t]);\n        return o && o.name && r ? o.name === r ? o : void 0 : o;\n      }\n    }, n.getNativeConsole = function () {\n      return \"undefined\" != typeof window ? window.console : \"undefined\" != typeof console ? console : void 0;\n    }, n.getConsole = function () {\n      var e = n.getNativeConsole();\n      return e && e.log ? e : {\n        log: function () {}\n      };\n    }, n.warn = function (e) {\n      n.getConsole().log(\"[okta-auth-sdk] WARN: \" + e);\n    }, n.deprecate = function (e) {\n      n.getConsole().log(\"[okta-auth-sdk] DEPRECATION: \" + e);\n    }, n.deprecateWrap = function (e, t) {\n      return function () {\n        return n.deprecate(e), t.apply(null, arguments);\n      };\n    }, n.removeTrailingSlash = function (e) {\n      if (e) {\n        var t = e.replace(/^\\s+|\\s+$/gm, \"\");\n        return t = t.replace(/\\/+$/, \"\");\n      }\n    }, n.isIE11OrLess = function () {\n      return !!document.documentMode && document.documentMode <= 11;\n    }, n.isFunction = function (e) {\n      return !!e && \"[object Function]\" === {}.toString.call(e);\n    };\n  }, function (e, t) {\n    function n(e, t) {\n      this.name = \"AuthSdkError\", this.message = e, this.errorCode = \"INTERNAL\", this.errorSummary = e, this.errorLink = \"INTERNAL\", this.errorId = \"INTERNAL\", this.errorCauses = [], t && (this.xhr = t);\n    }\n\n    n.prototype = new Error(), e.exports = n;\n  }, function (e, t) {\n    e.exports = {\n      STATE_TOKEN_KEY_NAME: \"oktaStateToken\",\n      DEFAULT_POLLING_DELAY: 500,\n      DEFAULT_MAX_CLOCK_SKEW: 300,\n      DEFAULT_CACHE_DURATION: 86400,\n      REDIRECT_OAUTH_PARAMS_COOKIE_NAME: \"okta-oauth-redirect-params\",\n      REDIRECT_STATE_COOKIE_NAME: \"okta-oauth-state\",\n      REDIRECT_NONCE_COOKIE_NAME: \"okta-oauth-nonce\",\n      TOKEN_STORAGE_NAME: \"okta-token-storage\",\n      CACHE_STORAGE_NAME: \"okta-cache-storage\",\n      PKCE_STORAGE_NAME: \"okta-pkce-storage\"\n    };\n  }, function (e, t, n) {\n    function r(e, t) {\n      t = t || {};\n      var n = t.url,\n          r = t.method,\n          o = t.args,\n          i = t.saveAuthnState,\n          f = t.accessToken,\n          p = !1 !== t.withCredentials,\n          l = e.options.storageUtil,\n          d = l.storage,\n          h = l.getHttpCache();\n\n      if (t.cacheResponse) {\n        var y = h.getStorage(),\n            g = y[n];\n        if (g && Date.now() / 1e3 < g.expiresAt) return a.resolve(g.response);\n      }\n\n      var m = {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"X-Okta-User-Agent-Extended\": e.userAgent\n      };\n      s.extend(m, e.options.headers, t.headers), f && s.isString(f) && (m.Authorization = \"Bearer \" + f);\n      var v,\n          w,\n          T = {\n        headers: m,\n        data: o || void 0,\n        withCredentials: p\n      };\n      return new a(e.options.httpRequestClient(r, n, T)).then(function (e) {\n        return w = e.responseText, w && s.isString(w) && (w = JSON.parse(w)), i && (w.stateToken || d.delete(c.STATE_TOKEN_KEY_NAME)), w && w.stateToken && w.expiresAt && d.set(c.STATE_TOKEN_KEY_NAME, w.stateToken, w.expiresAt), w && t.cacheResponse && h.updateStorage(n, {\n          expiresAt: Math.floor(Date.now() / 1e3) + c.DEFAULT_CACHE_DURATION,\n          response: w\n        }), w;\n      }).fail(function (t) {\n        var n = t.responseText || {};\n        if (s.isString(n)) try {\n          n = JSON.parse(n);\n        } catch (e) {\n          n = {\n            errorSummary: \"Unknown error\"\n          };\n        }\n        throw t.status >= 500 && (n.errorSummary = \"Unknown error\"), e.options.transformErrorXHR && (t = e.options.transformErrorXHR(s.clone(t))), v = new u(n, t), \"E0000011\" === v.errorCode && d.delete(c.STATE_TOKEN_KEY_NAME), v;\n      });\n    }\n\n    function o(e, t, n) {\n      t = s.isAbsoluteUrl(t) ? t : e.options.url + t;\n      var o = {\n        url: t,\n        method: \"GET\"\n      };\n      return s.extend(o, n), r(e, o);\n    }\n\n    function i(e, t, n, o) {\n      t = s.isAbsoluteUrl(t) ? t : e.options.url + t;\n      var i = {\n        url: t,\n        method: \"POST\",\n        args: n,\n        saveAuthnState: !0\n      };\n      return s.extend(i, o), r(e, i);\n    }\n\n    var s = n(0),\n        a = n(5),\n        u = n(22),\n        c = n(2);\n    e.exports = {\n      get: o,\n      post: i,\n      httpRequest: r\n    };\n  }, function (e, t, n) {\n    var r = n(14),\n        o = n(6),\n        i = n(2),\n        s = {};\n    s.browserHasLocalStorage = function () {\n      try {\n        var e = s.getLocalStorage();\n        return s.testStorage(e);\n      } catch (e) {\n        return !1;\n      }\n    }, s.browserHasSessionStorage = function () {\n      try {\n        var e = s.getSessionStorage();\n        return s.testStorage(e);\n      } catch (e) {\n        return !1;\n      }\n    }, s.getPKCEStorage = function () {\n      return s.browserHasLocalStorage() ? o(s.getLocalStorage(), i.PKCE_STORAGE_NAME) : s.browserHasSessionStorage() ? o(s.getSessionStorage(), i.PKCE_STORAGE_NAME) : o(s.getCookieStorage({\n        secure: \"https:\" === window.location.protocol\n      }), i.PKCE_STORAGE_NAME);\n    }, s.getHttpCache = function () {\n      return s.browserHasLocalStorage() ? o(s.getLocalStorage(), i.CACHE_STORAGE_NAME) : s.browserHasSessionStorage() ? o(s.getSessionStorage(), i.CACHE_STORAGE_NAME) : o(s.getCookieStorage({\n        secure: \"https:\" === window.location.protocol\n      }), i.CACHE_STORAGE_NAME);\n    }, s.getLocalStorage = function () {\n      return localStorage;\n    }, s.getSessionStorage = function () {\n      return sessionStorage;\n    }, s.getCookieStorage = function (e) {\n      e = e || {};\n      var t = e.secure || !1,\n          n = e.sameSite || (t ? \"none\" : \"lax\");\n      return {\n        getItem: s.storage.get,\n        setItem: function (e, r) {\n          s.storage.set(e, r, \"2200-01-01T00:00:00.000Z\", {\n            secure: t,\n            sameSite: n\n          });\n        }\n      };\n    }, s.getInMemoryStorage = function () {\n      var e = {};\n      return {\n        getItem: function (t) {\n          return e[t];\n        },\n        setItem: function (t, n) {\n          e[t] = n;\n        }\n      };\n    }, s.testStorage = function (e) {\n      var t = \"okta-test-storage\";\n\n      try {\n        return e.setItem(t, t), e.removeItem(t), !0;\n      } catch (e) {\n        return !1;\n      }\n    }, s.storage = {\n      set: function (e, t, n, o) {\n        o = o || {};\n        var i = {\n          path: o.path || \"/\",\n          secure: o.secure,\n          sameSite: o.sameSite\n        };\n        return Date.parse(n) && (i.expires = new Date(n)), r.set(e, t, i), s.storage.get(e);\n      },\n      get: function (e) {\n        return r.get(e);\n      },\n      delete: function (e) {\n        return r.remove(e, {\n          path: \"/\"\n        });\n      }\n    }, e.exports = s;\n  }, function (e, t, n) {\n    (function (t, n) {\n      /*!\n      *\n      * Copyright 2009-2012 Kris Kowal under the terms of the MIT\n      * license found at http://github.com/kriskowal/q/raw/master/LICENSE\n      *\n      * With parts by Tyler Close\n      * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found\n      * at http://www.opensource.org/licenses/mit-license.html\n      * Forked at ref_send.js version: 2009-05-11\n      *\n      * With parts by Mark Miller\n      * Copyright (C) 2011 Google Inc.\n      *\n      * Licensed under the Apache License, Version 2.0 (the \"License\");\n      * you may not use this file except in compliance with the License.\n      * You may obtain a copy of the License at\n      *\n      * http://www.apache.org/licenses/LICENSE-2.0\n      *\n      * Unless required by applicable law or agreed to in writing, software\n      * distributed under the License is distributed on an \"AS IS\" BASIS,\n      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n      * See the License for the specific language governing permissions and\n      * limitations under the License.\n      *\n      */\n      !function (t) {\n        \"use strict\";\n\n        if (\"function\" == typeof bootstrap) bootstrap(\"promise\", t);else {\n          e.exports = t();\n        }\n      }(function () {\n        \"use strict\";\n\n        function e(e) {\n          return function () {\n            return J.apply(e, arguments);\n          };\n        }\n\n        function r(e) {\n          return e === Object(e);\n        }\n\n        function o(e) {\n          return \"[object StopIteration]\" === ne(e) || e instanceof z;\n        }\n\n        function i(e, t) {\n          if (K && t.stack && \"object\" == typeof e && null !== e && e.stack && -1 === e.stack.indexOf(re)) {\n            for (var n = [], r = t; r; r = r.source) r.stack && n.unshift(r.stack);\n\n            n.unshift(e.stack);\n            var o = n.join(\"\\n\" + re + \"\\n\");\n            e.stack = s(o);\n          }\n        }\n\n        function s(e) {\n          for (var t = e.split(\"\\n\"), n = [], r = 0; r < t.length; ++r) {\n            var o = t[r];\n            c(o) || a(o) || !o || n.push(o);\n          }\n\n          return n.join(\"\\n\");\n        }\n\n        function a(e) {\n          return -1 !== e.indexOf(\"(module.js:\") || -1 !== e.indexOf(\"(node.js:\");\n        }\n\n        function u(e) {\n          var t = /at .+ \\((.+):(\\d+):(?:\\d+)\\)$/.exec(e);\n          if (t) return [t[1], Number(t[2])];\n          var n = /at ([^ ]+):(\\d+):(?:\\d+)$/.exec(e);\n          if (n) return [n[1], Number(n[2])];\n          var r = /.*@(.+):(\\d+)$/.exec(e);\n          return r ? [r[1], Number(r[2])] : void 0;\n        }\n\n        function c(e) {\n          var t = u(e);\n          if (!t) return !1;\n          var n = t[0],\n              r = t[1];\n          return n === q && r >= W && r <= ue;\n        }\n\n        function f() {\n          if (K) try {\n            throw new Error();\n          } catch (r) {\n            var e = r.stack.split(\"\\n\"),\n                t = e[0].indexOf(\"@\") > 0 ? e[1] : e[2],\n                n = u(t);\n            if (!n) return;\n            return q = n[0], n[1];\n          }\n        }\n\n        function p(e) {\n          return e instanceof y ? e : w(e) ? O(e) : _(e);\n        }\n\n        function l() {\n          function e(e) {\n            t = e, i.source = e, Y(n, function (t, n) {\n              p.nextTick(function () {\n                e.promiseDispatch.apply(e, n);\n              });\n            }, void 0), n = void 0, r = void 0;\n          }\n\n          var t,\n              n = [],\n              r = [],\n              o = Z(l.prototype),\n              i = Z(y.prototype);\n          if (i.promiseDispatch = function (e, o, i) {\n            var s = Q(arguments);\n            n ? (n.push(s), \"when\" === o && i[1] && r.push(i[1])) : p.nextTick(function () {\n              t.promiseDispatch.apply(t, s);\n            });\n          }, i.valueOf = function () {\n            if (n) return i;\n            var e = m(t);\n            return v(e) && (t = e), e;\n          }, i.inspect = function () {\n            return t ? t.inspect() : {\n              state: \"pending\"\n            };\n          }, p.longStackSupport && K) try {\n            throw new Error();\n          } catch (e) {\n            i.stack = e.stack.substring(e.stack.indexOf(\"\\n\") + 1);\n          }\n          return o.promise = i, o.resolve = function (n) {\n            t || e(p(n));\n          }, o.fulfill = function (n) {\n            t || e(_(n));\n          }, o.reject = function (n) {\n            t || e(x(n));\n          }, o.notify = function (e) {\n            t || Y(r, function (t, n) {\n              p.nextTick(function () {\n                n(e);\n              });\n            }, void 0);\n          }, o;\n        }\n\n        function d(e) {\n          if (\"function\" != typeof e) throw new TypeError(\"resolver must be a function.\");\n          var t = l();\n\n          try {\n            e(t.resolve, t.reject, t.notify);\n          } catch (e) {\n            t.reject(e);\n          }\n\n          return t.promise;\n        }\n\n        function h(e) {\n          return d(function (t, n) {\n            for (var r = 0, o = e.length; r < o; r++) p(e[r]).then(t, n);\n          });\n        }\n\n        function y(e, t, n) {\n          void 0 === t && (t = function (e) {\n            return x(new Error(\"Promise does not support operation: \" + e));\n          }), void 0 === n && (n = function () {\n            return {\n              state: \"unknown\"\n            };\n          });\n          var r = Z(y.prototype);\n\n          if (r.promiseDispatch = function (n, o, i) {\n            var s;\n\n            try {\n              s = e[o] ? e[o].apply(r, i) : t.call(r, o, i);\n            } catch (e) {\n              s = x(e);\n            }\n\n            n && n(s);\n          }, r.inspect = n, n) {\n            var o = n();\n            \"rejected\" === o.state && (r.exception = o.reason), r.valueOf = function () {\n              var e = n();\n              return \"pending\" === e.state || \"rejected\" === e.state ? r : e.value;\n            };\n          }\n\n          return r;\n        }\n\n        function g(e, t, n, r) {\n          return p(e).then(t, n, r);\n        }\n\n        function m(e) {\n          if (v(e)) {\n            var t = e.inspect();\n            if (\"fulfilled\" === t.state) return t.value;\n          }\n\n          return e;\n        }\n\n        function v(e) {\n          return e instanceof y;\n        }\n\n        function w(e) {\n          return r(e) && \"function\" == typeof e.then;\n        }\n\n        function T(e) {\n          return v(e) && \"pending\" === e.inspect().state;\n        }\n\n        function k(e) {\n          return !v(e) || \"fulfilled\" === e.inspect().state;\n        }\n\n        function b(e) {\n          return v(e) && \"rejected\" === e.inspect().state;\n        }\n\n        function E() {\n          oe.length = 0, ie.length = 0, ae || (ae = !0);\n        }\n\n        function S(e, n) {\n          ae && (\"object\" == typeof t && \"function\" == typeof t.emit && p.nextTick.runAfter(function () {\n            -1 !== X(ie, e) && (t.emit(\"unhandledRejection\", n, e), se.push(e));\n          }), ie.push(e), n && void 0 !== n.stack ? oe.push(n.stack) : oe.push(\"(no stack) \" + n));\n        }\n\n        function A(e) {\n          if (ae) {\n            var n = X(ie, e);\n            -1 !== n && (\"object\" == typeof t && \"function\" == typeof t.emit && p.nextTick.runAfter(function () {\n              var r = X(se, e);\n              -1 !== r && (t.emit(\"rejectionHandled\", oe[n], e), se.splice(r, 1));\n            }), ie.splice(n, 1), oe.splice(n, 1));\n          }\n        }\n\n        function x(e) {\n          var t = y({\n            when: function (t) {\n              return t && A(this), t ? t(e) : this;\n            }\n          }, function () {\n            return this;\n          }, function () {\n            return {\n              state: \"rejected\",\n              reason: e\n            };\n          });\n          return S(t, e), t;\n        }\n\n        function _(e) {\n          return y({\n            when: function () {\n              return e;\n            },\n            get: function (t) {\n              return e[t];\n            },\n            set: function (t, n) {\n              e[t] = n;\n            },\n            delete: function (t) {\n              delete e[t];\n            },\n            post: function (t, n) {\n              return null === t || void 0 === t ? e.apply(void 0, n) : e[t].apply(e, n);\n            },\n            apply: function (t, n) {\n              return e.apply(t, n);\n            },\n            keys: function () {\n              return te(e);\n            }\n          }, void 0, function () {\n            return {\n              state: \"fulfilled\",\n              value: e\n            };\n          });\n        }\n\n        function O(e) {\n          var t = l();\n          return p.nextTick(function () {\n            try {\n              e.then(t.resolve, t.reject, t.notify);\n            } catch (e) {\n              t.reject(e);\n            }\n          }), t.promise;\n        }\n\n        function U(e) {\n          return y({\n            isDef: function () {}\n          }, function (t, n) {\n            return M(e, t, n);\n          }, function () {\n            return p(e).inspect();\n          });\n        }\n\n        function C(e, t, n) {\n          return p(e).spread(t, n);\n        }\n\n        function R(e) {\n          return function () {\n            function t(e, t) {\n              var s;\n\n              if (\"undefined\" == typeof StopIteration) {\n                try {\n                  s = n[e](t);\n                } catch (e) {\n                  return x(e);\n                }\n\n                return s.done ? p(s.value) : g(s.value, r, i);\n              }\n\n              try {\n                s = n[e](t);\n              } catch (e) {\n                return o(e) ? p(e.value) : x(e);\n              }\n\n              return g(s, r, i);\n            }\n\n            var n = e.apply(this, arguments),\n                r = t.bind(t, \"next\"),\n                i = t.bind(t, \"throw\");\n            return r();\n          };\n        }\n\n        function j(e) {\n          p.done(p.async(e)());\n        }\n\n        function P(e) {\n          throw new z(e);\n        }\n\n        function I(e) {\n          return function () {\n            return C([this, N(arguments)], function (t, n) {\n              return e.apply(t, n);\n            });\n          };\n        }\n\n        function M(e, t, n) {\n          return p(e).dispatch(t, n);\n        }\n\n        function N(e) {\n          return g(e, function (e) {\n            var t = 0,\n                n = l();\n            return Y(e, function (r, o, i) {\n              var s;\n              v(o) && \"fulfilled\" === (s = o.inspect()).state ? e[i] = s.value : (++t, g(o, function (r) {\n                e[i] = r, 0 == --t && n.resolve(e);\n              }, n.reject, function (e) {\n                n.notify({\n                  index: i,\n                  value: e\n                });\n              }));\n            }, void 0), 0 === t && n.resolve(e), n.promise;\n          });\n        }\n\n        function D(e) {\n          if (0 === e.length) return p.resolve();\n          var t = p.defer(),\n              n = 0;\n          return Y(e, function (r, o, i) {\n            function s(e) {\n              t.resolve(e);\n            }\n\n            function a() {\n              0 === --n && t.reject(new Error(\"Can't get fulfillment value from any promise, all promises were rejected.\"));\n            }\n\n            function u(e) {\n              t.notify({\n                index: i,\n                value: e\n              });\n            }\n\n            var c = e[i];\n            n++, g(c, s, a, u);\n          }, void 0), t.promise;\n        }\n\n        function L(e) {\n          return g(e, function (e) {\n            return e = $(e, p), g(N($(e, function (e) {\n              return g(e, G, G);\n            })), function () {\n              return e;\n            });\n          });\n        }\n\n        function F(e) {\n          return p(e).allSettled();\n        }\n\n        function B(e, t) {\n          return p(e).then(void 0, void 0, t);\n        }\n\n        function H(e, t) {\n          return p(e).nodeify(t);\n        }\n\n        var K = !1;\n\n        try {\n          throw new Error();\n        } catch (e) {\n          K = !!e.stack;\n        }\n\n        var q,\n            z,\n            W = f(),\n            G = function () {},\n            V = function () {\n          function e() {\n            for (var e, t; o.next;) o = o.next, e = o.task, o.task = void 0, t = o.domain, t && (o.domain = void 0, t.enter()), r(e, t);\n\n            for (; c.length;) e = c.pop(), r(e);\n\n            s = !1;\n          }\n\n          function r(t, n) {\n            try {\n              t();\n            } catch (t) {\n              if (u) throw n && n.exit(), setTimeout(e, 0), n && n.enter(), t;\n              setTimeout(function () {\n                throw t;\n              }, 0);\n            }\n\n            n && n.exit();\n          }\n\n          var o = {\n            task: void 0,\n            next: null\n          },\n              i = o,\n              s = !1,\n              a = void 0,\n              u = !1,\n              c = [];\n          if (V = function (e) {\n            i = i.next = {\n              task: e,\n              domain: u && t.domain,\n              next: null\n            }, s || (s = !0, a());\n          }, \"object\" == typeof t && \"[object process]\" === t.toString() && t.nextTick) u = !0, a = function () {\n            t.nextTick(e);\n          };else if (\"function\" == typeof n) a = \"undefined\" != typeof window ? n.bind(window, e) : function () {\n            n(e);\n          };else if (\"undefined\" != typeof MessageChannel) {\n            var f = new MessageChannel();\n\n            f.port1.onmessage = function () {\n              a = p, f.port1.onmessage = e, e();\n            };\n\n            var p = function () {\n              f.port2.postMessage(0);\n            };\n\n            a = function () {\n              setTimeout(e, 0), p();\n            };\n          } else a = function () {\n            setTimeout(e, 0);\n          };\n          return V.runAfter = function (e) {\n            c.push(e), s || (s = !0, a());\n          }, V;\n        }(),\n            J = Function.call,\n            Q = e(Array.prototype.slice),\n            Y = e(Array.prototype.reduce || function (e, t) {\n          var n = 0,\n              r = this.length;\n          if (1 === arguments.length) for (;;) {\n            if (n in this) {\n              t = this[n++];\n              break;\n            }\n\n            if (++n >= r) throw new TypeError();\n          }\n\n          for (; n < r; n++) n in this && (t = e(t, this[n], n));\n\n          return t;\n        }),\n            X = e(Array.prototype.indexOf || function (e) {\n          for (var t = 0; t < this.length; t++) if (this[t] === e) return t;\n\n          return -1;\n        }),\n            $ = e(Array.prototype.map || function (e, t) {\n          var n = this,\n              r = [];\n          return Y(n, function (o, i, s) {\n            r.push(e.call(t, i, s, n));\n          }, void 0), r;\n        }),\n            Z = Object.create || function (e) {\n          function t() {}\n\n          return t.prototype = e, new t();\n        },\n            ee = e(Object.prototype.hasOwnProperty),\n            te = Object.keys || function (e) {\n          var t = [];\n\n          for (var n in e) ee(e, n) && t.push(n);\n\n          return t;\n        },\n            ne = e(Object.prototype.toString);\n\n        z = \"undefined\" != typeof ReturnValue ? ReturnValue : function (e) {\n          this.value = e;\n        };\n        var re = \"From previous event:\";\n        p.resolve = p, p.nextTick = V, p.longStackSupport = !1, \"object\" == typeof t && t && t.env && t.env.Q_DEBUG && (p.longStackSupport = !0), p.defer = l, l.prototype.makeNodeResolver = function () {\n          var e = this;\n          return function (t, n) {\n            t ? e.reject(t) : arguments.length > 2 ? e.resolve(Q(arguments, 1)) : e.resolve(n);\n          };\n        }, p.Promise = d, p.promise = d, d.race = h, d.all = N, d.reject = x, d.resolve = p, p.passByCopy = function (e) {\n          return e;\n        }, y.prototype.passByCopy = function () {\n          return this;\n        }, p.join = function (e, t) {\n          return p(e).join(t);\n        }, y.prototype.join = function (e) {\n          return p([this, e]).spread(function (e, t) {\n            if (e === t) return e;\n            throw new Error(\"Can't join: not the same: \" + e + \" \" + t);\n          });\n        }, p.race = h, y.prototype.race = function () {\n          return this.then(p.race);\n        }, p.makePromise = y, y.prototype.toString = function () {\n          return \"[object Promise]\";\n        }, y.prototype.then = function (e, t, n) {\n          function r(t) {\n            try {\n              return \"function\" == typeof e ? e(t) : t;\n            } catch (e) {\n              return x(e);\n            }\n          }\n\n          function o(e) {\n            if (\"function\" == typeof t) {\n              i(e, a);\n\n              try {\n                return t(e);\n              } catch (e) {\n                return x(e);\n              }\n            }\n\n            return x(e);\n          }\n\n          function s(e) {\n            return \"function\" == typeof n ? n(e) : e;\n          }\n\n          var a = this,\n              u = l(),\n              c = !1;\n          return p.nextTick(function () {\n            a.promiseDispatch(function (e) {\n              c || (c = !0, u.resolve(r(e)));\n            }, \"when\", [function (e) {\n              c || (c = !0, u.resolve(o(e)));\n            }]);\n          }), a.promiseDispatch(void 0, \"when\", [void 0, function (e) {\n            var t,\n                n = !1;\n\n            try {\n              t = s(e);\n            } catch (e) {\n              if (n = !0, !p.onerror) throw e;\n              p.onerror(e);\n            }\n\n            n || u.notify(t);\n          }]), u.promise;\n        }, p.tap = function (e, t) {\n          return p(e).tap(t);\n        }, y.prototype.tap = function (e) {\n          return e = p(e), this.then(function (t) {\n            return e.fcall(t).thenResolve(t);\n          });\n        }, p.when = g, y.prototype.thenResolve = function (e) {\n          return this.then(function () {\n            return e;\n          });\n        }, p.thenResolve = function (e, t) {\n          return p(e).thenResolve(t);\n        }, y.prototype.thenReject = function (e) {\n          return this.then(function () {\n            throw e;\n          });\n        }, p.thenReject = function (e, t) {\n          return p(e).thenReject(t);\n        }, p.nearer = m, p.isPromise = v, p.isPromiseAlike = w, p.isPending = T, y.prototype.isPending = function () {\n          return \"pending\" === this.inspect().state;\n        }, p.isFulfilled = k, y.prototype.isFulfilled = function () {\n          return \"fulfilled\" === this.inspect().state;\n        }, p.isRejected = b, y.prototype.isRejected = function () {\n          return \"rejected\" === this.inspect().state;\n        };\n        var oe = [],\n            ie = [],\n            se = [],\n            ae = !0;\n        p.resetUnhandledRejections = E, p.getUnhandledReasons = function () {\n          return oe.slice();\n        }, p.stopUnhandledRejectionTracking = function () {\n          E(), ae = !1;\n        }, E(), p.reject = x, p.fulfill = _, p.master = U, p.spread = C, y.prototype.spread = function (e, t) {\n          return this.all().then(function (t) {\n            return e.apply(void 0, t);\n          }, t);\n        }, p.async = R, p.spawn = j, p.return = P, p.promised = I, p.dispatch = M, y.prototype.dispatch = function (e, t) {\n          var n = this,\n              r = l();\n          return p.nextTick(function () {\n            n.promiseDispatch(r.resolve, e, t);\n          }), r.promise;\n        }, p.get = function (e, t) {\n          return p(e).dispatch(\"get\", [t]);\n        }, y.prototype.get = function (e) {\n          return this.dispatch(\"get\", [e]);\n        }, p.set = function (e, t, n) {\n          return p(e).dispatch(\"set\", [t, n]);\n        }, y.prototype.set = function (e, t) {\n          return this.dispatch(\"set\", [e, t]);\n        }, p.del = p.delete = function (e, t) {\n          return p(e).dispatch(\"delete\", [t]);\n        }, y.prototype.del = y.prototype.delete = function (e) {\n          return this.dispatch(\"delete\", [e]);\n        }, p.mapply = p.post = function (e, t, n) {\n          return p(e).dispatch(\"post\", [t, n]);\n        }, y.prototype.mapply = y.prototype.post = function (e, t) {\n          return this.dispatch(\"post\", [e, t]);\n        }, p.send = p.mcall = p.invoke = function (e, t) {\n          return p(e).dispatch(\"post\", [t, Q(arguments, 2)]);\n        }, y.prototype.send = y.prototype.mcall = y.prototype.invoke = function (e) {\n          return this.dispatch(\"post\", [e, Q(arguments, 1)]);\n        }, p.fapply = function (e, t) {\n          return p(e).dispatch(\"apply\", [void 0, t]);\n        }, y.prototype.fapply = function (e) {\n          return this.dispatch(\"apply\", [void 0, e]);\n        }, p.try = p.fcall = function (e) {\n          return p(e).dispatch(\"apply\", [void 0, Q(arguments, 1)]);\n        }, y.prototype.fcall = function () {\n          return this.dispatch(\"apply\", [void 0, Q(arguments)]);\n        }, p.fbind = function (e) {\n          var t = p(e),\n              n = Q(arguments, 1);\n          return function () {\n            return t.dispatch(\"apply\", [this, n.concat(Q(arguments))]);\n          };\n        }, y.prototype.fbind = function () {\n          var e = this,\n              t = Q(arguments);\n          return function () {\n            return e.dispatch(\"apply\", [this, t.concat(Q(arguments))]);\n          };\n        }, p.keys = function (e) {\n          return p(e).dispatch(\"keys\", []);\n        }, y.prototype.keys = function () {\n          return this.dispatch(\"keys\", []);\n        }, p.all = N, y.prototype.all = function () {\n          return N(this);\n        }, p.any = D, y.prototype.any = function () {\n          return D(this);\n        }, p.allResolved = function (e, t, n) {\n          return function () {\n            return \"undefined\" != typeof console && \"function\" == typeof console.warn && console.warn(t + \" is deprecated, use \" + n + \" instead.\", new Error(\"\").stack), e.apply(e, arguments);\n          };\n        }(L, \"allResolved\", \"allSettled\"), y.prototype.allResolved = function () {\n          return L(this);\n        }, p.allSettled = F, y.prototype.allSettled = function () {\n          return this.then(function (e) {\n            return N($(e, function (e) {\n              function t() {\n                return e.inspect();\n              }\n\n              return e = p(e), e.then(t, t);\n            }));\n          });\n        }, p.fail = p.catch = function (e, t) {\n          return p(e).then(void 0, t);\n        }, y.prototype.fail = y.prototype.catch = function (e) {\n          return this.then(void 0, e);\n        }, p.progress = B, y.prototype.progress = function (e) {\n          return this.then(void 0, void 0, e);\n        }, p.fin = p.finally = function (e, t) {\n          return p(e).finally(t);\n        }, y.prototype.fin = y.prototype.finally = function (e) {\n          return e = p(e), this.then(function (t) {\n            return e.fcall().then(function () {\n              return t;\n            });\n          }, function (t) {\n            return e.fcall().then(function () {\n              throw t;\n            });\n          });\n        }, p.done = function (e, t, n, r) {\n          return p(e).done(t, n, r);\n        }, y.prototype.done = function (e, n, r) {\n          var o = function (e) {\n            p.nextTick(function () {\n              if (i(e, s), !p.onerror) throw e;\n              p.onerror(e);\n            });\n          },\n              s = e || n || r ? this.then(e, n, r) : this;\n\n          \"object\" == typeof t && t && t.domain && (o = t.domain.bind(o)), s.then(void 0, o);\n        }, p.timeout = function (e, t, n) {\n          return p(e).timeout(t, n);\n        }, y.prototype.timeout = function (e, t) {\n          var n = l(),\n              r = setTimeout(function () {\n            t && \"string\" != typeof t || (t = new Error(t || \"Timed out after \" + e + \" ms\"), t.code = \"ETIMEDOUT\"), n.reject(t);\n          }, e);\n          return this.then(function (e) {\n            clearTimeout(r), n.resolve(e);\n          }, function (e) {\n            clearTimeout(r), n.reject(e);\n          }, n.notify), n.promise;\n        }, p.delay = function (e, t) {\n          return void 0 === t && (t = e, e = void 0), p(e).delay(t);\n        }, y.prototype.delay = function (e) {\n          return this.then(function (t) {\n            var n = l();\n            return setTimeout(function () {\n              n.resolve(t);\n            }, e), n.promise;\n          });\n        }, p.nfapply = function (e, t) {\n          return p(e).nfapply(t);\n        }, y.prototype.nfapply = function (e) {\n          var t = l(),\n              n = Q(e);\n          return n.push(t.makeNodeResolver()), this.fapply(n).fail(t.reject), t.promise;\n        }, p.nfcall = function (e) {\n          var t = Q(arguments, 1);\n          return p(e).nfapply(t);\n        }, y.prototype.nfcall = function () {\n          var e = Q(arguments),\n              t = l();\n          return e.push(t.makeNodeResolver()), this.fapply(e).fail(t.reject), t.promise;\n        }, p.nfbind = p.denodeify = function (e) {\n          var t = Q(arguments, 1);\n          return function () {\n            var n = t.concat(Q(arguments)),\n                r = l();\n            return n.push(r.makeNodeResolver()), p(e).fapply(n).fail(r.reject), r.promise;\n          };\n        }, y.prototype.nfbind = y.prototype.denodeify = function () {\n          var e = Q(arguments);\n          return e.unshift(this), p.denodeify.apply(void 0, e);\n        }, p.nbind = function (e, t) {\n          var n = Q(arguments, 2);\n          return function () {\n            function r() {\n              return e.apply(t, arguments);\n            }\n\n            var o = n.concat(Q(arguments)),\n                i = l();\n            return o.push(i.makeNodeResolver()), p(r).fapply(o).fail(i.reject), i.promise;\n          };\n        }, y.prototype.nbind = function () {\n          var e = Q(arguments, 0);\n          return e.unshift(this), p.nbind.apply(void 0, e);\n        }, p.nmapply = p.npost = function (e, t, n) {\n          return p(e).npost(t, n);\n        }, y.prototype.nmapply = y.prototype.npost = function (e, t) {\n          var n = Q(t || []),\n              r = l();\n          return n.push(r.makeNodeResolver()), this.dispatch(\"post\", [e, n]).fail(r.reject), r.promise;\n        }, p.nsend = p.nmcall = p.ninvoke = function (e, t) {\n          var n = Q(arguments, 2),\n              r = l();\n          return n.push(r.makeNodeResolver()), p(e).dispatch(\"post\", [t, n]).fail(r.reject), r.promise;\n        }, y.prototype.nsend = y.prototype.nmcall = y.prototype.ninvoke = function (e) {\n          var t = Q(arguments, 1),\n              n = l();\n          return t.push(n.makeNodeResolver()), this.dispatch(\"post\", [e, t]).fail(n.reject), n.promise;\n        }, p.nodeify = H, y.prototype.nodeify = function (e) {\n          if (!e) return this;\n          this.then(function (t) {\n            p.nextTick(function () {\n              e(null, t);\n            });\n          }, function (t) {\n            p.nextTick(function () {\n              e(t);\n            });\n          });\n        }, p.noConflict = function () {\n          throw new Error(\"Q.noConflict only works when Q is used as a global\");\n        };\n        var ue = f();\n        return p;\n      });\n    }).call(t, n(8), n(20).setImmediate);\n  }, function (e, t, n) {\n    function r(e, t) {\n      function n() {\n        var n = e.getItem(t);\n        n = n || \"{}\";\n\n        try {\n          return JSON.parse(n);\n        } catch (e) {\n          throw new o(\"Unable to parse storage string: \" + t);\n        }\n      }\n\n      function r(n) {\n        try {\n          var r = JSON.stringify(n);\n          e.setItem(t, r);\n        } catch (e) {\n          throw new o(\"Unable to set storage: \" + t);\n        }\n      }\n\n      function i(e) {\n        e || r({});\n        var t = n();\n        delete t[e], r(t);\n      }\n\n      function s(e, t) {\n        var o = n();\n        o[e] = t, r(o);\n      }\n\n      if (\"string\" != typeof t || !t.length) throw new o('\"storageName\" is required');\n      return {\n        getStorage: n,\n        setStorage: r,\n        clearStorage: i,\n        updateStorage: s\n      };\n    }\n\n    var o = n(1);\n    e.exports = r;\n  }, function (e, t, n) {\n    function r(e, t) {\n      var n = {};\n      return m.extend(n, t), !n.stateToken && e.stateToken && (n.stateToken = e.stateToken), n;\n    }\n\n    function o(e) {\n      return r(e);\n    }\n\n    function i(e, t) {\n      return t = r(e, t), g.post(e, e.options.url + \"/api/v1/authn\", t);\n    }\n\n    function s(e, t) {\n      if (!t || !t.stateToken) {\n        var n = e.tx.exists._get(k.STATE_TOKEN_KEY_NAME);\n\n        if (!n) return v.reject(new w(\"No transaction to resume\"));\n        t = {\n          stateToken: n\n        };\n      }\n\n      return e.tx.status(t).then(function (t) {\n        return new y(e, t);\n      });\n    }\n\n    function a(e, t) {\n      if (!t || !t.stateToken) {\n        var n = e.tx.exists._get(k.STATE_TOKEN_KEY_NAME);\n\n        if (!n) return v.reject(new w(\"No transaction to evaluate\"));\n        t = {\n          stateToken: n\n        };\n      }\n\n      return u(e, t).then(function (t) {\n        return new y(e, t);\n      });\n    }\n\n    function u(e, t) {\n      return t = r(e, t), g.post(e, e.options.url + \"/api/v1/authn/introspect\", t);\n    }\n\n    function c(e) {\n      return !!e.tx.exists._get(k.STATE_TOKEN_KEY_NAME);\n    }\n\n    function f(e, t, n, r) {\n      return g.post(e, t, n, r).then(function (t) {\n        return new y(e, t);\n      });\n    }\n\n    function p(e, t, n) {\n      return function (r) {\n        function i() {\n          var n = {};\n          if (\"function\" == typeof u) try {\n            n.autoPush = !!u();\n          } catch (e) {\n            return v.reject(new w(\"AutoPush resulted in an error.\"));\n          } else void 0 !== u && null !== u && (n.autoPush = !!u);\n          if (\"function\" == typeof a) try {\n            n.rememberDevice = !!a();\n          } catch (e) {\n            return v.reject(new w(\"RememberDevice resulted in an error.\"));\n          } else void 0 !== a && null !== a && (n.rememberDevice = !!a);\n          var r = f.href + m.toQueryParams(n);\n          return g.post(e, r, o(t), {\n            saveAuthnState: !1\n          });\n        }\n\n        var s, a, u, c;\n        m.isNumber(r) ? s = r : m.isObject(r) && (s = r.delay, a = r.rememberDevice, u = r.autoPush, c = r.transactionCallBack), s || 0 === s || (s = k.DEFAULT_POLLING_DELAY);\n        var f = m.getLink(t, \"next\", \"poll\");\n        n.isPolling = !0;\n\n        var p = 0,\n            l = function () {\n          return n.isPolling ? i().then(function (t) {\n            if (p = 0, t.factorResult && \"WAITING\" === t.factorResult) {\n              if (!n.isPolling) throw new T();\n              return \"function\" == typeof c && c(t), v.delay(s).then(l);\n            }\n\n            return n.isPolling = !1, new y(e, t);\n          }).fail(function (e) {\n            if (e.xhr && (0 === e.xhr.status || 429 === e.xhr.status) && p <= 4) {\n              var t = 1e3 * Math.pow(2, p);\n              return p++, v.delay(t).then(l);\n            }\n\n            throw e;\n          }) : v.reject(new T());\n        };\n\n        return l().fail(function (e) {\n          throw n.isPolling = !1, e;\n        });\n      };\n    }\n\n    function l(e, t, n, o, i) {\n      if (Array.isArray(o)) return function (r, s) {\n        if (!r) throw new w(\"Must provide a link name\");\n        var a = m.find(o, {\n          name: r\n        });\n        if (!a) throw new w(\"No link found for that name\");\n        return l(e, t, n, a, i)(s);\n      };\n\n      if (o.hints && o.hints.allow && 1 === o.hints.allow.length) {\n        switch (o.hints.allow[0]) {\n          case \"GET\":\n            return function () {\n              return g.get(e, o.href);\n            };\n\n          case \"POST\":\n            return function (s) {\n              i && i.isPolling && (i.isPolling = !1);\n              var a = r(t, s);\n              \"MFA_ENROLL\" !== t.status && \"FACTOR_ENROLL\" !== t.status || m.extend(a, {\n                factorType: n.factorType,\n                provider: n.provider\n              });\n              var u = {},\n                  c = a.autoPush;\n\n              if (void 0 !== c) {\n                if (\"function\" == typeof c) try {\n                  u.autoPush = !!c();\n                } catch (e) {\n                  return v.reject(new w(\"AutoPush resulted in an error.\"));\n                } else null !== c && (u.autoPush = !!c);\n                a = m.omit(a, \"autoPush\");\n              }\n\n              var p = a.rememberDevice;\n\n              if (void 0 !== p) {\n                if (\"function\" == typeof p) try {\n                  u.rememberDevice = !!p();\n                } catch (e) {\n                  return v.reject(new w(\"RememberDevice resulted in an error.\"));\n                } else null !== p && (u.rememberDevice = !!p);\n                a = m.omit(a, \"rememberDevice\");\n              } else a.profile && void 0 !== a.profile.updatePhone && (a.profile.updatePhone && (u.updatePhone = !0), a.profile = m.omit(a.profile, \"updatePhone\"));\n\n              var l = o.href + m.toQueryParams(u);\n              return f(e, l, a);\n            };\n        }\n      }\n    }\n\n    function d(e, t, n, r) {\n      var o = {};\n\n      for (var i in n._links) if (n._links.hasOwnProperty(i)) {\n        var s = n._links[i];\n        if (\"next\" === i && (i = s.name), s.type) o[i] = s;else switch (i) {\n          case \"poll\":\n            o.poll = p(e, t, r);\n            break;\n\n          default:\n            var a = l(e, t, n, s, r);\n            a && (o[i] = a);\n        }\n      }\n\n      return o;\n    }\n\n    function h(e, t, n, r) {\n      if (n = n || t, n = m.clone(n), Array.isArray(n)) {\n        for (var o = [], i = 0, s = n.length; i < s; i++) o.push(h(e, t, n[i], r));\n\n        return o;\n      }\n\n      var a = n._embedded || {};\n\n      for (var u in a) a.hasOwnProperty(u) && (m.isObject(a[u]) || Array.isArray(a[u])) && (a[u] = h(e, t, a[u], r));\n\n      var c = d(e, t, n, r);\n      return m.extend(a, c), n = m.omit(n, \"_embedded\", \"_links\"), m.extend(n, a), n;\n    }\n\n    function y(e, t) {\n      t && (this.data = t, m.extend(this, h(e, t, t, {})), delete this.stateToken, \"RECOVERY_CHALLENGE\" !== t.status || t._links || (this.cancel = function () {\n        return new v(new y(e));\n      }));\n    }\n\n    var g = n(3),\n        m = n(0),\n        v = n(5),\n        w = n(1),\n        T = n(23),\n        k = n(2);\n    e.exports = {\n      transactionStatus: i,\n      resumeTransaction: s,\n      transactionExists: c,\n      postToTransaction: f,\n      introspect: a\n    };\n  }, function (e, t) {\n    function n() {\n      throw new Error(\"setTimeout has not been defined\");\n    }\n\n    function r() {\n      throw new Error(\"clearTimeout has not been defined\");\n    }\n\n    function o(e) {\n      if (f === setTimeout) return setTimeout(e, 0);\n      if ((f === n || !f) && setTimeout) return f = setTimeout, setTimeout(e, 0);\n\n      try {\n        return f(e, 0);\n      } catch (t) {\n        try {\n          return f.call(null, e, 0);\n        } catch (t) {\n          return f.call(this, e, 0);\n        }\n      }\n    }\n\n    function i(e) {\n      if (p === clearTimeout) return clearTimeout(e);\n      if ((p === r || !p) && clearTimeout) return p = clearTimeout, clearTimeout(e);\n\n      try {\n        return p(e);\n      } catch (t) {\n        try {\n          return p.call(null, e);\n        } catch (t) {\n          return p.call(this, e);\n        }\n      }\n    }\n\n    function s() {\n      y && d && (y = !1, d.length ? h = d.concat(h) : g = -1, h.length && a());\n    }\n\n    function a() {\n      if (!y) {\n        var e = o(s);\n        y = !0;\n\n        for (var t = h.length; t;) {\n          for (d = h, h = []; ++g < t;) d && d[g].run();\n\n          g = -1, t = h.length;\n        }\n\n        d = null, y = !1, i(e);\n      }\n    }\n\n    function u(e, t) {\n      this.fun = e, this.array = t;\n    }\n\n    function c() {}\n\n    var f,\n        p,\n        l = e.exports = {};\n    !function () {\n      try {\n        f = \"function\" == typeof setTimeout ? setTimeout : n;\n      } catch (e) {\n        f = n;\n      }\n\n      try {\n        p = \"function\" == typeof clearTimeout ? clearTimeout : r;\n      } catch (e) {\n        p = r;\n      }\n    }();\n    var d,\n        h = [],\n        y = !1,\n        g = -1;\n    l.nextTick = function (e) {\n      var t = new Array(arguments.length - 1);\n      if (arguments.length > 1) for (var n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];\n      h.push(new u(e, t)), 1 !== h.length || y || o(a);\n    }, u.prototype.run = function () {\n      this.fun.apply(null, this.array);\n    }, l.title = \"browser\", l.browser = !0, l.env = {}, l.argv = [], l.version = \"\", l.versions = {}, l.on = c, l.addListener = c, l.once = c, l.off = c, l.removeListener = c, l.removeAllListeners = c, l.emit = c, l.prependListener = c, l.prependOnceListener = c, l.listeners = function (e) {\n      return [];\n    }, l.binding = function (e) {\n      throw new Error(\"process.binding is not supported\");\n    }, l.cwd = function () {\n      return \"/\";\n    }, l.chdir = function (e) {\n      throw new Error(\"process.chdir is not supported\");\n    }, l.umask = function () {\n      return 0;\n    };\n  }, function (e, t) {\n    var n;\n\n    n = function () {\n      return this;\n    }();\n\n    try {\n      n = n || Function(\"return this\")() || (0, eval)(\"this\");\n    } catch (e) {\n      \"object\" == typeof window && (n = window);\n    }\n\n    e.exports = n;\n  }, function (e, t, n) {\n    function r() {\n      return g.genRandomString(64);\n    }\n\n    function o() {\n      return g.genRandomString(64);\n    }\n\n    function i(e) {\n      return !(!e || !e.accessToken && !e.idToken || !Array.isArray(e.scopes));\n    }\n\n    function s(e, t, n) {\n      e.addEventListener ? e.addEventListener(t, n) : e.attachEvent(\"on\" + t, n);\n    }\n\n    function a(e, t, n) {\n      e.removeEventListener ? e.removeEventListener(t, n) : e.detachEvent(\"on\" + t, n);\n    }\n\n    function u(e) {\n      var t = document.createElement(\"iframe\");\n      return t.style.display = \"none\", t.src = e, document.body.appendChild(t);\n    }\n\n    function c(e, t) {\n      var n = t.popupTitle || \"External Identity Provider User Authentication\",\n          r = \"toolbar=no, scrollbars=yes, resizable=yes, top=100, left=500, width=600, height=600\";\n\n      if (g.isIE11OrLess()) {\n        var o = window.open(\"/\", n, r);\n        return o.location.href = e, o;\n      }\n\n      return window.open(e, n, r);\n    }\n\n    function f(e, t) {\n      var n = t || e.options.issuer || e.options.url;\n      return y.get(e, n + \"/.well-known/openid-configuration\", {\n        cacheResponse: !0\n      });\n    }\n\n    function p(e, t, n) {\n      return f(e, t).then(function (t) {\n        var r = t.jwks_uri,\n            o = w.getStorage(),\n            i = o[r];\n\n        if (i && Date.now() / 1e3 < i.expiresAt) {\n          var s = g.find(i.response.keys, {\n            kid: n\n          });\n          if (s) return s;\n        }\n\n        return w.clearStorage(r), y.get(e, r, {\n          cacheResponse: !0\n        }).then(function (e) {\n          var t = g.find(e.keys, {\n            kid: n\n          });\n          if (t) return t;\n          throw new v(\"The key id, \" + n + \", was not found in the server's keys\");\n        });\n      });\n    }\n\n    function l(e, t, n) {\n      var r = n.clientId,\n          o = n.issuer,\n          i = n.nonce;\n      if (!t || !o || !r) throw new v(\"The jwt, iss, and aud arguments are all required\");\n      if (i && t.nonce !== i) throw new v(\"OAuth flow response nonce doesn't match request nonce\");\n      var s = Math.floor(Date.now() / 1e3);\n      if (t.iss !== o) throw new v(\"The issuer [\" + t.iss + \"] does not match [\" + o + \"]\");\n      if (t.aud !== r) throw new v(\"The audience [\" + t.aud + \"] does not match [\" + r + \"]\");\n      if (t.iat > t.exp) throw new v(\"The JWT expired before it was issued\");\n      if (s - e.options.maxClockSkew > t.exp) throw new v(\"The JWT expired and is no longer valid\");\n      if (t.iat > s + e.options.maxClockSkew) throw new v(\"The JWT was issued in the future\");\n    }\n\n    function d(e, t, n) {\n      n = n || {};\n      var r = g.removeTrailingSlash(n.authorizeUrl) || e.options.authorizeUrl,\n          o = g.removeTrailingSlash(n.issuer) || e.options.issuer,\n          i = g.removeTrailingSlash(n.userinfoUrl) || e.options.userinfoUrl,\n          s = g.removeTrailingSlash(n.tokenUrl) || e.options.tokenUrl,\n          a = g.removeTrailingSlash(n.logoutUrl) || e.options.logoutUrl,\n          u = g.removeTrailingSlash(n.revokeUrl) || e.options.revokeUrl;\n      if (o && !/^https?:/.test(o) && (o = e.options.url + \"/oauth2/\" + o), !o && r && -1 !== t.responseType.indexOf(\"id_token\")) throw new v(\"Cannot request idToken with an authorizeUrl without an issuer\");\n\n      if (!o && t && -1 !== t.responseType.indexOf(\"token\")) {\n        if (r && !i) throw new v(\"Cannot request accessToken with an authorizeUrl without an issuer or userinfoUrl\");\n        if (i && !r) throw new v(\"Cannot request token with an userinfoUrl without an issuer or authorizeUrl\");\n      }\n\n      o = o || e.options.url, o = g.removeTrailingSlash(o);\n      var c = o;\n      return new RegExp(\"^https?://.*?/oauth2/.+\").test(c) || c.endsWith(\"/oauth2\") || (c += \"/oauth2\"), r = r || c + \"/v1/authorize\", i = i || c + \"/v1/userinfo\", s = s || c + \"/v1/token\", u = u || c + \"/v1/revoke\", a = a || c + \"/v1/logout\", {\n        issuer: o,\n        authorizeUrl: r,\n        userinfoUrl: i,\n        tokenUrl: s,\n        revokeUrl: u,\n        logoutUrl: a\n      };\n    }\n\n    function h(e) {\n      for (var t, n = /\\+/g, r = /([^&=]+)=?([^&]*)/g, o = e.substring(1), i = {};;) {\n        if (!(t = r.exec(o))) break;\n        var s = t[1],\n            a = t[2];\n        i[s] = \"id_token\" === s || \"access_token\" === s || \"code\" === s ? a : decodeURIComponent(a.replace(n, \" \"));\n      }\n\n      return i;\n    }\n\n    var y = n(3),\n        g = n(0),\n        m = n(4),\n        v = n(1),\n        w = m.getHttpCache();\n    e.exports = {\n      generateState: r,\n      generateNonce: o,\n      getWellKnown: f,\n      getKey: p,\n      validateClaims: l,\n      getOAuthUrls: d,\n      loadFrame: u,\n      loadPopup: c,\n      urlParamsToObject: h,\n      isToken: i,\n      addListener: s,\n      removeListener: a\n    };\n  }, function (e, t, n) {\n    var r = n(12),\n        o = n(4);\n    e.exports = n(15)(o, r);\n  }, function (e, t, n) {\n    function r(e, t, n) {\n      var r = n.data,\n          i = n.headers || {};\n      return \"application/json\" === (i[\"Content-Type\"] || i[\"content-type\"] || \"\") && r && \"string\" != typeof r && (r = JSON.stringify(r)), o(t, {\n        method: e,\n        headers: n.headers,\n        body: r,\n        credentials: !1 === n.withCredentials ? \"omit\" : \"include\"\n      }).then(function (e) {\n        var t = !e.ok,\n            n = e.status,\n            r = function (e) {\n          var r = {\n            responseText: e,\n            status: n\n          };\n          if (t) throw r;\n          return r;\n        };\n\n        return e.headers.get(\"Content-Type\") && e.headers.get(\"Content-Type\").toLowerCase().indexOf(\"application/json\") >= 0 ? e.json().then(r) : e.text().then(r);\n      });\n    }\n\n    var o = n(13);\n    e.exports = r;\n  }, function (e, t) {\n    var n = function (e) {\n      function t() {\n        this.fetch = !1, this.DOMException = e.DOMException;\n      }\n\n      return t.prototype = e, new t();\n    }(\"undefined\" != typeof self ? self : this);\n\n    !function (e) {\n      !function (t) {\n        function n(e) {\n          return e && DataView.prototype.isPrototypeOf(e);\n        }\n\n        function r(e) {\n          if (\"string\" != typeof e && (e = String(e)), /[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(e)) throw new TypeError(\"Invalid character in header field name\");\n          return e.toLowerCase();\n        }\n\n        function o(e) {\n          return \"string\" != typeof e && (e = String(e)), e;\n        }\n\n        function i(e) {\n          var t = {\n            next: function () {\n              var t = e.shift();\n              return {\n                done: void 0 === t,\n                value: t\n              };\n            }\n          };\n          return T.iterable && (t[Symbol.iterator] = function () {\n            return t;\n          }), t;\n        }\n\n        function s(e) {\n          this.map = {}, e instanceof s ? e.forEach(function (e, t) {\n            this.append(t, e);\n          }, this) : Array.isArray(e) ? e.forEach(function (e) {\n            this.append(e[0], e[1]);\n          }, this) : e && Object.getOwnPropertyNames(e).forEach(function (t) {\n            this.append(t, e[t]);\n          }, this);\n        }\n\n        function a(e) {\n          if (e.bodyUsed) return Promise.reject(new TypeError(\"Already read\"));\n          e.bodyUsed = !0;\n        }\n\n        function u(e) {\n          return new Promise(function (t, n) {\n            e.onload = function () {\n              t(e.result);\n            }, e.onerror = function () {\n              n(e.error);\n            };\n          });\n        }\n\n        function c(e) {\n          var t = new FileReader(),\n              n = u(t);\n          return t.readAsArrayBuffer(e), n;\n        }\n\n        function f(e) {\n          var t = new FileReader(),\n              n = u(t);\n          return t.readAsText(e), n;\n        }\n\n        function p(e) {\n          for (var t = new Uint8Array(e), n = new Array(t.length), r = 0; r < t.length; r++) n[r] = String.fromCharCode(t[r]);\n\n          return n.join(\"\");\n        }\n\n        function l(e) {\n          if (e.slice) return e.slice(0);\n          var t = new Uint8Array(e.byteLength);\n          return t.set(new Uint8Array(e)), t.buffer;\n        }\n\n        function d() {\n          return this.bodyUsed = !1, this._initBody = function (e) {\n            this._bodyInit = e, e ? \"string\" == typeof e ? this._bodyText = e : T.blob && Blob.prototype.isPrototypeOf(e) ? this._bodyBlob = e : T.formData && FormData.prototype.isPrototypeOf(e) ? this._bodyFormData = e : T.searchParams && URLSearchParams.prototype.isPrototypeOf(e) ? this._bodyText = e.toString() : T.arrayBuffer && T.blob && n(e) ? (this._bodyArrayBuffer = l(e.buffer), this._bodyInit = new Blob([this._bodyArrayBuffer])) : T.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(e) || b(e)) ? this._bodyArrayBuffer = l(e) : this._bodyText = e = Object.prototype.toString.call(e) : this._bodyText = \"\", this.headers.get(\"content-type\") || (\"string\" == typeof e ? this.headers.set(\"content-type\", \"text/plain;charset=UTF-8\") : this._bodyBlob && this._bodyBlob.type ? this.headers.set(\"content-type\", this._bodyBlob.type) : T.searchParams && URLSearchParams.prototype.isPrototypeOf(e) && this.headers.set(\"content-type\", \"application/x-www-form-urlencoded;charset=UTF-8\"));\n          }, T.blob && (this.blob = function () {\n            var e = a(this);\n            if (e) return e;\n            if (this._bodyBlob) return Promise.resolve(this._bodyBlob);\n            if (this._bodyArrayBuffer) return Promise.resolve(new Blob([this._bodyArrayBuffer]));\n            if (this._bodyFormData) throw new Error(\"could not read FormData body as blob\");\n            return Promise.resolve(new Blob([this._bodyText]));\n          }, this.arrayBuffer = function () {\n            return this._bodyArrayBuffer ? a(this) || Promise.resolve(this._bodyArrayBuffer) : this.blob().then(c);\n          }), this.text = function () {\n            var e = a(this);\n            if (e) return e;\n            if (this._bodyBlob) return f(this._bodyBlob);\n            if (this._bodyArrayBuffer) return Promise.resolve(p(this._bodyArrayBuffer));\n            if (this._bodyFormData) throw new Error(\"could not read FormData body as text\");\n            return Promise.resolve(this._bodyText);\n          }, T.formData && (this.formData = function () {\n            return this.text().then(g);\n          }), this.json = function () {\n            return this.text().then(JSON.parse);\n          }, this;\n        }\n\n        function h(e) {\n          var t = e.toUpperCase();\n          return E.indexOf(t) > -1 ? t : e;\n        }\n\n        function y(e, t) {\n          t = t || {};\n          var n = t.body;\n\n          if (e instanceof y) {\n            if (e.bodyUsed) throw new TypeError(\"Already read\");\n            this.url = e.url, this.credentials = e.credentials, t.headers || (this.headers = new s(e.headers)), this.method = e.method, this.mode = e.mode, this.signal = e.signal, n || null == e._bodyInit || (n = e._bodyInit, e.bodyUsed = !0);\n          } else this.url = String(e);\n\n          if (this.credentials = t.credentials || this.credentials || \"same-origin\", !t.headers && this.headers || (this.headers = new s(t.headers)), this.method = h(t.method || this.method || \"GET\"), this.mode = t.mode || this.mode || null, this.signal = t.signal || this.signal, this.referrer = null, (\"GET\" === this.method || \"HEAD\" === this.method) && n) throw new TypeError(\"Body not allowed for GET or HEAD requests\");\n\n          this._initBody(n);\n        }\n\n        function g(e) {\n          var t = new FormData();\n          return e.trim().split(\"&\").forEach(function (e) {\n            if (e) {\n              var n = e.split(\"=\"),\n                  r = n.shift().replace(/\\+/g, \" \"),\n                  o = n.join(\"=\").replace(/\\+/g, \" \");\n              t.append(decodeURIComponent(r), decodeURIComponent(o));\n            }\n          }), t;\n        }\n\n        function m(e) {\n          var t = new s();\n          return e.replace(/\\r?\\n[\\t ]+/g, \" \").split(/\\r?\\n/).forEach(function (e) {\n            var n = e.split(\":\"),\n                r = n.shift().trim();\n\n            if (r) {\n              var o = n.join(\":\").trim();\n              t.append(r, o);\n            }\n          }), t;\n        }\n\n        function v(e, t) {\n          t || (t = {}), this.type = \"default\", this.status = void 0 === t.status ? 200 : t.status, this.ok = this.status >= 200 && this.status < 300, this.statusText = \"statusText\" in t ? t.statusText : \"OK\", this.headers = new s(t.headers), this.url = t.url || \"\", this._initBody(e);\n        }\n\n        function w(e, n) {\n          return new Promise(function (r, o) {\n            function i() {\n              a.abort();\n            }\n\n            var s = new y(e, n);\n            if (s.signal && s.signal.aborted) return o(new t.DOMException(\"Aborted\", \"AbortError\"));\n            var a = new XMLHttpRequest();\n            a.onload = function () {\n              var e = {\n                status: a.status,\n                statusText: a.statusText,\n                headers: m(a.getAllResponseHeaders() || \"\")\n              };\n              e.url = \"responseURL\" in a ? a.responseURL : e.headers.get(\"X-Request-URL\");\n              var t = \"response\" in a ? a.response : a.responseText;\n              r(new v(t, e));\n            }, a.onerror = function () {\n              o(new TypeError(\"Network request failed\"));\n            }, a.ontimeout = function () {\n              o(new TypeError(\"Network request failed\"));\n            }, a.onabort = function () {\n              o(new t.DOMException(\"Aborted\", \"AbortError\"));\n            }, a.open(s.method, s.url, !0), \"include\" === s.credentials ? a.withCredentials = !0 : \"omit\" === s.credentials && (a.withCredentials = !1), \"responseType\" in a && T.blob && (a.responseType = \"blob\"), s.headers.forEach(function (e, t) {\n              a.setRequestHeader(t, e);\n            }), s.signal && (s.signal.addEventListener(\"abort\", i), a.onreadystatechange = function () {\n              4 === a.readyState && s.signal.removeEventListener(\"abort\", i);\n            }), a.send(void 0 === s._bodyInit ? null : s._bodyInit);\n          });\n        }\n\n        var T = {\n          searchParams: \"URLSearchParams\" in e,\n          iterable: \"Symbol\" in e && \"iterator\" in Symbol,\n          blob: \"FileReader\" in e && \"Blob\" in e && function () {\n            try {\n              return new Blob(), !0;\n            } catch (e) {\n              return !1;\n            }\n          }(),\n          formData: \"FormData\" in e,\n          arrayBuffer: \"ArrayBuffer\" in e\n        };\n        if (T.arrayBuffer) var k = [\"[object Int8Array]\", \"[object Uint8Array]\", \"[object Uint8ClampedArray]\", \"[object Int16Array]\", \"[object Uint16Array]\", \"[object Int32Array]\", \"[object Uint32Array]\", \"[object Float32Array]\", \"[object Float64Array]\"],\n            b = ArrayBuffer.isView || function (e) {\n          return e && k.indexOf(Object.prototype.toString.call(e)) > -1;\n        };\n        s.prototype.append = function (e, t) {\n          e = r(e), t = o(t);\n          var n = this.map[e];\n          this.map[e] = n ? n + \", \" + t : t;\n        }, s.prototype.delete = function (e) {\n          delete this.map[r(e)];\n        }, s.prototype.get = function (e) {\n          return e = r(e), this.has(e) ? this.map[e] : null;\n        }, s.prototype.has = function (e) {\n          return this.map.hasOwnProperty(r(e));\n        }, s.prototype.set = function (e, t) {\n          this.map[r(e)] = o(t);\n        }, s.prototype.forEach = function (e, t) {\n          for (var n in this.map) this.map.hasOwnProperty(n) && e.call(t, this.map[n], n, this);\n        }, s.prototype.keys = function () {\n          var e = [];\n          return this.forEach(function (t, n) {\n            e.push(n);\n          }), i(e);\n        }, s.prototype.values = function () {\n          var e = [];\n          return this.forEach(function (t) {\n            e.push(t);\n          }), i(e);\n        }, s.prototype.entries = function () {\n          var e = [];\n          return this.forEach(function (t, n) {\n            e.push([n, t]);\n          }), i(e);\n        }, T.iterable && (s.prototype[Symbol.iterator] = s.prototype.entries);\n        var E = [\"DELETE\", \"GET\", \"HEAD\", \"OPTIONS\", \"POST\", \"PUT\"];\n        y.prototype.clone = function () {\n          return new y(this, {\n            body: this._bodyInit\n          });\n        }, d.call(y.prototype), d.call(v.prototype), v.prototype.clone = function () {\n          return new v(this._bodyInit, {\n            status: this.status,\n            statusText: this.statusText,\n            headers: new s(this.headers),\n            url: this.url\n          });\n        }, v.error = function () {\n          var e = new v(null, {\n            status: 0,\n            statusText: \"\"\n          });\n          return e.type = \"error\", e;\n        };\n        var S = [301, 302, 303, 307, 308];\n        v.redirect = function (e, t) {\n          if (-1 === S.indexOf(t)) throw new RangeError(\"Invalid status code\");\n          return new v(null, {\n            status: t,\n            headers: {\n              location: e\n            }\n          });\n        }, t.DOMException = e.DOMException;\n\n        try {\n          new t.DOMException();\n        } catch (e) {\n          t.DOMException = function (e, t) {\n            this.message = e, this.name = t;\n            var n = Error(e);\n            this.stack = n.stack;\n          }, t.DOMException.prototype = Object.create(Error.prototype), t.DOMException.prototype.constructor = t.DOMException;\n        }\n\n        w.polyfill = !0, e.fetch || (e.fetch = w, e.Headers = s, e.Request = y, e.Response = v), t.Headers = s, t.Request = y, t.Response = v, t.fetch = w;\n      }({});\n    }(n), delete n.fetch.polyfill, t = n.fetch, t.default = n.fetch, t.fetch = n.fetch, t.Headers = n.Headers, t.Request = n.Request, t.Response = n.Response, e.exports = t;\n  }, function (e, t, n) {\n    var r, o;\n    !function (i) {\n      var s = !1;\n\n      if (r = i, void 0 !== (o = \"function\" == typeof r ? r.call(t, n, t, e) : r) && (e.exports = o), s = !0, e.exports = i(), s = !0, !s) {\n        var a = window.Cookies,\n            u = window.Cookies = i();\n\n        u.noConflict = function () {\n          return window.Cookies = a, u;\n        };\n      }\n    }(function () {\n      function e() {\n        for (var e = 0, t = {}; e < arguments.length; e++) {\n          var n = arguments[e];\n\n          for (var r in n) t[r] = n[r];\n        }\n\n        return t;\n      }\n\n      function t(n) {\n        function r(t, o, i) {\n          var s;\n\n          if (\"undefined\" != typeof document) {\n            if (arguments.length > 1) {\n              if (i = e({\n                path: \"/\"\n              }, r.defaults, i), \"number\" == typeof i.expires) {\n                var a = new Date();\n                a.setMilliseconds(a.getMilliseconds() + 864e5 * i.expires), i.expires = a;\n              }\n\n              i.expires = i.expires ? i.expires.toUTCString() : \"\";\n\n              try {\n                s = JSON.stringify(o), /^[\\{\\[]/.test(s) && (o = s);\n              } catch (e) {}\n\n              o = n.write ? n.write(o, t) : encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent), t = encodeURIComponent(String(t)), t = t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent), t = t.replace(/[\\(\\)]/g, escape);\n              var u = \"\";\n\n              for (var c in i) i[c] && (u += \"; \" + c, !0 !== i[c] && (u += \"=\" + i[c]));\n\n              return document.cookie = t + \"=\" + o + u;\n            }\n\n            t || (s = {});\n\n            for (var f = document.cookie ? document.cookie.split(\"; \") : [], p = /(%[0-9A-Z]{2})+/g, l = 0; l < f.length; l++) {\n              var d = f[l].split(\"=\"),\n                  h = d.slice(1).join(\"=\");\n              this.json || '\"' !== h.charAt(0) || (h = h.slice(1, -1));\n\n              try {\n                var y = d[0].replace(p, decodeURIComponent);\n                if (h = n.read ? n.read(h, y) : n(h, y) || h.replace(p, decodeURIComponent), this.json) try {\n                  h = JSON.parse(h);\n                } catch (e) {}\n\n                if (t === y) {\n                  s = h;\n                  break;\n                }\n\n                t || (s[y] = h);\n              } catch (e) {}\n            }\n\n            return s;\n          }\n        }\n\n        return r.set = r, r.get = function (e) {\n          return r.call(r, e);\n        }, r.getJSON = function () {\n          return r.apply({\n            json: !0\n          }, [].slice.call(arguments));\n        }, r.defaults = {}, r.remove = function (t, n) {\n          r(t, \"\", e(n, {\n            expires: -1\n          }));\n        }, r.withConverter = t, r;\n      }\n\n      return t(function () {});\n    });\n  }, function (e, t, n) {\n    function r(e) {\n      var t = this,\n          n = s.getValidUrl(e),\n          r = e.pkce || \"authorization_code\" === e.grantType;\n\n      if (this.options = {\n        url: g.removeTrailingSlash(n),\n        clientId: e.clientId,\n        issuer: g.removeTrailingSlash(e.issuer),\n        authorizeUrl: g.removeTrailingSlash(e.authorizeUrl),\n        userinfoUrl: g.removeTrailingSlash(e.userinfoUrl),\n        tokenUrl: g.removeTrailingSlash(e.tokenUrl),\n        revokeUrl: g.removeTrailingSlash(e.revokeUrl),\n        logoutUrl: g.removeTrailingSlash(e.logoutUrl),\n        pkce: r,\n        redirectUri: e.redirectUri,\n        postLogoutRedirectUri: e.postLogoutRedirectUri,\n        responseMode: e.responseMode,\n        httpRequestClient: e.httpRequestClient,\n        storageUtil: e.storageUtil,\n        transformErrorXHR: e.transformErrorXHR,\n        headers: e.headers,\n        onSessionExpired: e.onSessionExpired\n      }, this.options.pkce && !t.features.isPKCESupported()) {\n        var c = \"PKCE requires a modern browser with encryption support running in a secure context.\";\n        throw t.features.isHTTPS() || (c += \"\\nThe current page is not being served with HTTPS protocol. Try using HTTPS.\"), t.features.hasTextEncoder() || (c += '\\n\"TextEncoder\" is not defined. You may need a polyfill/shim for this browser.'), new i(c);\n      }\n\n      this.userAgent = \"okta-auth-js-2.13.2\", e.maxClockSkew || 0 === e.maxClockSkew ? this.options.maxClockSkew = e.maxClockSkew : this.options.maxClockSkew = a.DEFAULT_MAX_CLOCK_SKEW, this.options.ignoreSignature = !!e.ignoreSignature, t.session = {\n        close: g.bind(l.closeSession, null, t),\n        exists: g.bind(l.sessionExists, null, t),\n        get: g.bind(l.getSession, null, t),\n        refresh: g.bind(l.refreshSession, null, t),\n        setCookieAndRedirect: g.bind(l.setCookieAndRedirect, null, t)\n      }, t.tx = {\n        status: g.bind(y.transactionStatus, null, t),\n        resume: g.bind(y.resumeTransaction, null, t),\n        exists: g.bind(y.transactionExists, null, t),\n        introspect: g.bind(y.introspect, null, t)\n      }, t.tx.exists._get = function (e) {\n        return u.get(e);\n      }, t.idToken = {\n        authorize: {\n          _getLocationHref: function () {\n            return window.location.href;\n          }\n        }\n      }, t.token = {\n        getWithoutPrompt: g.bind(d.getWithoutPrompt, null, t),\n        getWithPopup: g.bind(d.getWithPopup, null, t),\n        getWithRedirect: g.bind(d.getWithRedirect, null, t),\n        parseFromUrl: g.bind(d.parseFromUrl, null, t),\n        decode: d.decodeToken,\n        revoke: g.bind(d.revokeToken, null, t),\n        renew: g.bind(d.renewToken, null, t),\n        getUserInfo: g.bind(d.getUserInfo, null, t),\n        verify: g.bind(d.verifyToken, null, t)\n      }, t.token.getWithRedirect._setLocation = function (e) {\n        window.location = e;\n      }, t.token.parseFromUrl._getHistory = function () {\n        return window.history;\n      }, t.token.parseFromUrl._getLocation = function () {\n        return window.location;\n      }, t.token.parseFromUrl._getDocument = function () {\n        return window.document;\n      }, t.fingerprint._getUserAgent = function () {\n        return navigator.userAgent;\n      };\n      var f = /windows phone|iemobile|wpdesktop/i;\n      t.features.isFingerprintSupported = function () {\n        var e = t.fingerprint._getUserAgent();\n\n        return e && !f.test(e);\n      }, t.emitter = new o(), t.tokenManager = new h(t, e.tokenManager), t.tokenManager.on(\"error\", this._onTokenManagerError, this);\n    }\n\n    n(16);\n    var o = n(18),\n        i = n(1),\n        s = n(19),\n        a = n(2),\n        u = n(4).storage,\n        c = n(3),\n        f = n(10),\n        p = n(5),\n        l = n(24),\n        d = n(25),\n        h = n(29),\n        y = n(7),\n        g = n(0),\n        m = r.prototype;\n    m._onTokenManagerError = function (e) {\n      \"login_required\" === e.errorCode && e.accessToken && (this.options.onSessionExpired ? this.options.onSessionExpired() : console.error(\"Session has expired or was closed outside the application.\"));\n    }, m.features = {}, m.features.isPopupPostMessageSupported = function () {\n      var e = document.documentMode && document.documentMode < 10;\n      return !(!window.postMessage || e);\n    }, m.features.isTokenVerifySupported = function () {\n      return \"undefined\" != typeof crypto && crypto.subtle && \"undefined\" != typeof Uint8Array;\n    }, m.features.hasTextEncoder = function () {\n      return \"undefined\" != typeof TextEncoder;\n    }, m.features.isPKCESupported = function () {\n      return m.features.isTokenVerifySupported() && m.features.hasTextEncoder();\n    }, m.features.isHTTPS = function () {\n      return \"https:\" === window.location.protocol;\n    }, m.signIn = function (e) {\n      function t(t) {\n        return delete e.sendFingerprint, y.postToTransaction(n, \"/api/v1/authn\", e, t);\n      }\n\n      var n = this;\n      return e = g.clone(e || {}), e.sendFingerprint ? n.fingerprint().then(function (e) {\n        return t({\n          headers: {\n            \"X-Device-Fingerprint\": e\n          }\n        });\n      }) : t();\n    }, m.signOut = function (e) {\n      function t() {\n        return s.session.close().catch(function (e) {\n          if (\"AuthApiError\" !== e.name) throw e;\n        });\n      }\n\n      e = g.extend({}, e);\n      var n = e.postLogoutRedirectUri || this.options.postLogoutRedirectUri,\n          r = e.accessToken,\n          o = e.revokeAccessToken,\n          i = e.idToken,\n          s = this,\n          a = f.getOAuthUrls(s).logoutUrl;\n      return p.allSettled([function () {\n        return new p().then(function () {\n          return o && void 0 === r ? s.tokenManager.get(\"token\") : r;\n        });\n      }(), function () {\n        return new p().then(function () {\n          return n && void 0 === i ? s.tokenManager.get(\"idToken\") : i;\n        });\n      }()]).then(function (e) {\n        if (r = e[0].value, i = e[1].value, s.tokenManager.clear(), o && r) return s.token.revoke(r).catch(function (e) {\n          if (\"AuthApiError\" !== e.name) throw e;\n        });\n      }).then(function () {\n        if (!n) return t();\n        if (!i) return t().catch(function (e) {\n          console.log(\"Unhandled exception while closing session\", e);\n        }).then(function () {\n          window.location.assign(n);\n        });\n        var r = e.state,\n            o = i.idToken,\n            s = a + \"?id_token_hint=\" + encodeURIComponent(o) + \"&post_logout_redirect_uri=\" + encodeURIComponent(n);\n        r && (s += \"&state=\" + encodeURIComponent(r)), window.location.assign(s);\n      });\n    }, s.addSharedPrototypes(m), m.webfinger = function (e) {\n      var t = \"/.well-known/webfinger\" + g.toQueryParams(e),\n          n = {\n        headers: {\n          Accept: \"application/jrd+json\"\n        }\n      };\n      return c.get(this, t, n);\n    }, m.fingerprint = function (e) {\n      function t(e) {\n        if (e && e.data && e.origin === n.options.url) {\n          try {\n            var t = JSON.parse(e.data);\n          } catch (e) {\n            return r.reject(new i(\"Unable to parse iframe response\"));\n          }\n\n          if (t) return \"FingerprintAvailable\" === t.type ? r.resolve(t.fingerprint) : void (\"FingerprintServiceReady\" === t.type && e.source.postMessage(JSON.stringify({\n            type: \"GetFingerprint\"\n          }), e.origin));\n        }\n      }\n\n      e = e || {};\n      var n = this;\n      if (!n.features.isFingerprintSupported()) return p.reject(new i(\"Fingerprinting is not supported on this device\"));\n      var r = p.defer(),\n          o = document.createElement(\"iframe\");\n      o.style.display = \"none\", f.addListener(window, \"message\", t), o.src = n.options.url + \"/auth/services/devicefingerprint\", document.body.appendChild(o);\n      var s = setTimeout(function () {\n        r.reject(new i(\"Fingerprinting timed out\"));\n      }, e.timeout || 15e3);\n      return r.promise.fin(function () {\n        clearTimeout(s), f.removeListener(window, \"message\", t), document.body.contains(o) && o.parentElement.removeChild(o);\n      });\n    }, e.exports = s.buildOktaAuth(r);\n  }, function (e, t, n) {\n    n(17), Array.prototype.indexOf || (Array.prototype.indexOf = function (e, t) {\n      var n;\n      if (null == this) throw new TypeError('\"this\" is null or not defined');\n      var r = Object(this),\n          o = r.length >>> 0;\n      if (0 === o) return -1;\n      var i = +t || 0;\n      if (Math.abs(i) === 1 / 0 && (i = 0), i >= o) return -1;\n\n      for (n = Math.max(i >= 0 ? i : o - Math.abs(i), 0); n < o;) {\n        if (n in r && r[n] === e) return n;\n        n++;\n      }\n\n      return -1;\n    }), Array.isArray || (Array.isArray = function (e) {\n      return \"[object Array]\" === Object.prototype.toString.call(e);\n    });\n  }, function (e, t, n) {\n    !function () {\n      function e(e) {\n        this.message = e;\n      }\n\n      var n = t,\n          r = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n      e.prototype = new Error(), e.prototype.name = \"InvalidCharacterError\", n.btoa || (n.btoa = function (t) {\n        for (var n, o, i = String(t), s = 0, a = r, u = \"\"; i.charAt(0 | s) || (a = \"=\", s % 1); u += a.charAt(63 & n >> 8 - s % 1 * 8)) {\n          if ((o = i.charCodeAt(s += .75)) > 255) throw new e(\"'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.\");\n          n = n << 8 | o;\n        }\n\n        return u;\n      }), n.atob || (n.atob = function (t) {\n        var n = String(t).replace(/=+$/, \"\");\n        if (n.length % 4 == 1) throw new e(\"'atob' failed: The string to be decoded is not correctly encoded.\");\n\n        for (var o, i, s = 0, a = 0, u = \"\"; i = n.charAt(a++); ~i && (o = s % 4 ? 64 * o + i : i, s++ % 4) ? u += String.fromCharCode(255 & o >> (-2 * s & 6)) : 0) i = r.indexOf(i);\n\n        return u;\n      });\n    }();\n  }, function (e, t) {\n    function n() {}\n\n    n.prototype = {\n      on: function (e, t, n) {\n        var r = this.e || (this.e = {});\n        return (r[e] || (r[e] = [])).push({\n          fn: t,\n          ctx: n\n        }), this;\n      },\n      once: function (e, t, n) {\n        function r() {\n          o.off(e, r), t.apply(n, arguments);\n        }\n\n        var o = this;\n        return r._ = t, this.on(e, r, n);\n      },\n      emit: function (e) {\n        var t = [].slice.call(arguments, 1),\n            n = ((this.e || (this.e = {}))[e] || []).slice(),\n            r = 0,\n            o = n.length;\n\n        for (r; r < o; r++) n[r].fn.apply(n[r].ctx, t);\n\n        return this;\n      },\n      off: function (e, t) {\n        var n = this.e || (this.e = {}),\n            r = n[e],\n            o = [];\n        if (r && t) for (var i = 0, s = r.length; i < s; i++) r[i].fn !== t && r[i].fn._ !== t && o.push(r[i]);\n        return o.length ? n[e] = o : delete n[e], this;\n      }\n    }, e.exports = n;\n  }, function (e, t, n) {\n    function r(e) {\n      if (!e) throw new s(\"No arguments passed to constructor. Required usage: new OktaAuth(args)\");\n      var t = e.url;\n\n      if (!t) {\n        var n = new RegExp(\"^http?s?://.+\");\n        if (!e.issuer || !n.test(e.issuer)) throw new s('No url passed to constructor. Required usage: new OktaAuth({url: \"https://{yourOktaDomain}.com\"})');\n        t = e.issuer.split(\"/oauth2/\")[0];\n      }\n\n      if (-1 !== t.indexOf(\"-admin.\")) throw new s('URL passed to constructor contains \"-admin\" in subdomain. Required usage: new OktaAuth({url: \"https://{yourOktaDomain}.com})');\n      return t;\n    }\n\n    function o(e) {\n      e.forgotPassword = function (e) {\n        return a.postToTransaction(this, \"/api/v1/authn/recovery/password\", e);\n      }, e.unlockAccount = function (e) {\n        return a.postToTransaction(this, \"/api/v1/authn/recovery/unlock\", e);\n      }, e.verifyRecoveryToken = function (e) {\n        return a.postToTransaction(this, \"/api/v1/authn/recovery/token\", e);\n      };\n    }\n\n    function i(e) {\n      return function (t, n) {\n        function r(o) {\n          if (!(this instanceof r)) return new r(o);\n          o && (o.storageUtil = t, o.ajaxRequest ? (u.deprecate(\"ajaxRequest is being deprecated, use httpRequestClient attribute instead.\"), o.httpRequestClient = o.ajaxRequest) : o.httpRequestClient || (o.httpRequestClient = n)), u.bind(e, this)(o);\n        }\n\n        return r.prototype = e.prototype, r.prototype.constructor = r, r.features = e.prototype.features, r;\n      };\n    }\n\n    var s = n(1),\n        a = n(7),\n        u = n(0);\n    e.exports = {\n      addSharedPrototypes: o,\n      buildOktaAuth: i,\n      getValidUrl: r\n    };\n  }, function (e, t, n) {\n    (function (e) {\n      function r(e, t) {\n        this._id = e, this._clearFn = t;\n      }\n\n      var o = void 0 !== e && e || \"undefined\" != typeof self && self || window,\n          i = Function.prototype.apply;\n      t.setTimeout = function () {\n        return new r(i.call(setTimeout, o, arguments), clearTimeout);\n      }, t.setInterval = function () {\n        return new r(i.call(setInterval, o, arguments), clearInterval);\n      }, t.clearTimeout = t.clearInterval = function (e) {\n        e && e.close();\n      }, r.prototype.unref = r.prototype.ref = function () {}, r.prototype.close = function () {\n        this._clearFn.call(o, this._id);\n      }, t.enroll = function (e, t) {\n        clearTimeout(e._idleTimeoutId), e._idleTimeout = t;\n      }, t.unenroll = function (e) {\n        clearTimeout(e._idleTimeoutId), e._idleTimeout = -1;\n      }, t._unrefActive = t.active = function (e) {\n        clearTimeout(e._idleTimeoutId);\n        var t = e._idleTimeout;\n        t >= 0 && (e._idleTimeoutId = setTimeout(function () {\n          e._onTimeout && e._onTimeout();\n        }, t));\n      }, n(21), t.setImmediate = \"undefined\" != typeof self && self.setImmediate || void 0 !== e && e.setImmediate || this && this.setImmediate, t.clearImmediate = \"undefined\" != typeof self && self.clearImmediate || void 0 !== e && e.clearImmediate || this && this.clearImmediate;\n    }).call(t, n(9));\n  }, function (e, t, n) {\n    (function (e, t) {\n      !function (e, n) {\n        \"use strict\";\n\n        function r(e) {\n          \"function\" != typeof e && (e = new Function(\"\" + e));\n\n          for (var t = new Array(arguments.length - 1), n = 0; n < t.length; n++) t[n] = arguments[n + 1];\n\n          var r = {\n            callback: e,\n            args: t\n          };\n          return c[u] = r, a(u), u++;\n        }\n\n        function o(e) {\n          delete c[e];\n        }\n\n        function i(e) {\n          var t = e.callback,\n              r = e.args;\n\n          switch (r.length) {\n            case 0:\n              t();\n              break;\n\n            case 1:\n              t(r[0]);\n              break;\n\n            case 2:\n              t(r[0], r[1]);\n              break;\n\n            case 3:\n              t(r[0], r[1], r[2]);\n              break;\n\n            default:\n              t.apply(n, r);\n          }\n        }\n\n        function s(e) {\n          if (f) setTimeout(s, 0, e);else {\n            var t = c[e];\n\n            if (t) {\n              f = !0;\n\n              try {\n                i(t);\n              } finally {\n                o(e), f = !1;\n              }\n            }\n          }\n        }\n\n        if (!e.setImmediate) {\n          var a,\n              u = 1,\n              c = {},\n              f = !1,\n              p = e.document,\n              l = Object.getPrototypeOf && Object.getPrototypeOf(e);\n          l = l && l.setTimeout ? l : e, \"[object process]\" === {}.toString.call(e.process) ? function () {\n            a = function (e) {\n              t.nextTick(function () {\n                s(e);\n              });\n            };\n          }() : function () {\n            if (e.postMessage && !e.importScripts) {\n              var t = !0,\n                  n = e.onmessage;\n              return e.onmessage = function () {\n                t = !1;\n              }, e.postMessage(\"\", \"*\"), e.onmessage = n, t;\n            }\n          }() ? function () {\n            var t = \"setImmediate$\" + Math.random() + \"$\",\n                n = function (n) {\n              n.source === e && \"string\" == typeof n.data && 0 === n.data.indexOf(t) && s(+n.data.slice(t.length));\n            };\n\n            e.addEventListener ? e.addEventListener(\"message\", n, !1) : e.attachEvent(\"onmessage\", n), a = function (n) {\n              e.postMessage(t + n, \"*\");\n            };\n          }() : e.MessageChannel ? function () {\n            var e = new MessageChannel();\n            e.port1.onmessage = function (e) {\n              s(e.data);\n            }, a = function (t) {\n              e.port2.postMessage(t);\n            };\n          }() : p && \"onreadystatechange\" in p.createElement(\"script\") ? function () {\n            var e = p.documentElement;\n\n            a = function (t) {\n              var n = p.createElement(\"script\");\n              n.onreadystatechange = function () {\n                s(t), n.onreadystatechange = null, e.removeChild(n), n = null;\n              }, e.appendChild(n);\n            };\n          }() : function () {\n            a = function (e) {\n              setTimeout(s, 0, e);\n            };\n          }(), l.setImmediate = r, l.clearImmediate = o;\n        }\n      }(\"undefined\" == typeof self ? void 0 === e ? this : e : self);\n    }).call(t, n(9), n(8));\n  }, function (e, t) {\n    function n(e, t) {\n      this.name = \"AuthApiError\", this.message = e.errorSummary, this.errorSummary = e.errorSummary, this.errorCode = e.errorCode, this.errorLink = e.errorLink, this.errorId = e.errorId, this.errorCauses = e.errorCauses, t && (this.xhr = t);\n    }\n\n    n.prototype = new Error(), e.exports = n;\n  }, function (e, t) {\n    function n() {\n      this.name = \"AuthPollStopError\", this.message = \"The poll was stopped by the sdk\";\n    }\n\n    n.prototype = new Error(), e.exports = n;\n  }, function (e, t, n) {\n    function r(e) {\n      return e.session.get().then(function (e) {\n        return \"ACTIVE\" === e.status;\n      }).fail(function () {\n        return !1;\n      });\n    }\n\n    function o(e) {\n      return c.get(e, \"/api/v1/sessions/me\").then(function (t) {\n        var n = u.omit(t, \"_links\");\n        return n.refresh = function () {\n          return c.post(e, u.getLink(t, \"refresh\").href);\n        }, n.user = function () {\n          return c.get(e, u.getLink(t, \"user\").href);\n        }, n;\n      }).fail(function () {\n        return {\n          status: \"INACTIVE\"\n        };\n      });\n    }\n\n    function i(e) {\n      return c.httpRequest(e, {\n        url: e.options.url + \"/api/v1/sessions/me\",\n        method: \"DELETE\"\n      });\n    }\n\n    function s(e) {\n      return c.post(e, \"/api/v1/sessions/me/lifecycle/refresh\");\n    }\n\n    function a(e, t, n) {\n      n = n || window.location.href, window.location = e.options.url + \"/login/sessionCookieRedirect\" + u.toQueryParams({\n        checkAccountSetupComplete: !0,\n        token: t,\n        redirectUrl: n\n      });\n    }\n\n    var u = n(0),\n        c = n(3);\n    e.exports = {\n      sessionExists: r,\n      getSession: o,\n      closeSession: i,\n      refreshSession: s,\n      setCookieAndRedirect: a\n    };\n  }, function (e, t, n) {\n    function r(e, t) {\n      return new _().then(function () {\n        if (!t || !t.accessToken) throw new U(\"A valid access token object is required\");\n        var n = e.options.clientId;\n        if (!n) throw new U(\"A clientId must be specified in the OktaAuth constructor to revoke a token\");\n        var r = x.getOAuthUrls(e).revokeUrl,\n            o = t.accessToken,\n            i = A.toQueryParams({\n          token_type_hint: \"access_token\",\n          token: o\n        }).slice(1),\n            s = btoa(n);\n        return S.post(e, r, i, {\n          headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\n            Authorization: \"Basic \" + s\n          }\n        });\n      });\n    }\n\n    function o(e) {\n      var t,\n          n = e.split(\".\");\n\n      try {\n        t = {\n          header: JSON.parse(A.base64UrlToString(n[0])),\n          payload: JSON.parse(A.base64UrlToString(n[1])),\n          signature: n[2]\n        };\n      } catch (e) {\n        throw new U(\"Malformed token\");\n      }\n\n      return t;\n    }\n\n    function i(e, t, n) {\n      return new _().then(function () {\n        if (!t || !t.idToken) throw new U(\"Only idTokens may be verified\");\n        var r = o(t.idToken),\n            i = {\n          clientId: e.options.clientId,\n          issuer: e.options.issuer || e.options.url,\n          ignoreSignature: e.options.ignoreSignature\n        };\n        return A.extend(i, n), x.validateClaims(e, r.payload, i), 1 != i.ignoreSignature && e.features.isTokenVerifySupported() ? x.getKey(e, t.issuer, r.header.kid).then(function (e) {\n          return O.verifyToken(t.idToken, e);\n        }).then(function (e) {\n          if (!e) throw new U(\"The token signature is not valid\");\n          return t;\n        }) : t;\n      });\n    }\n\n    function s(e, t, n) {\n      function r(t) {\n        if (t.data && t.data.state === n) return t.origin !== e.options.url ? o.reject(new U(\"The request does not match client configuration\")) : void o.resolve(t.data);\n      }\n\n      var o = _.defer();\n\n      return x.addListener(window, \"message\", r), o.promise.timeout(t || 12e4, new U(\"OAuth flow timed out\")).fin(function () {\n        x.removeListener(window, \"message\", r);\n      });\n    }\n\n    function a(e, t, n) {\n      function r() {\n        try {\n          t && t.location && t.location.hash ? o.resolve(x.hashToObject(t.location.hash)) : t && !t.closed && setTimeout(r, 500);\n        } catch (e) {\n          setTimeout(r, 500);\n        }\n      }\n\n      var o = _.defer();\n\n      return r(), o.promise.timeout(n || 12e4, new U(\"OAuth flow timed out\"));\n    }\n\n    function u(e, t, n, r) {\n      var o = P.loadMeta(e),\n          i = {\n        clientId: t.clientId,\n        authorizationCode: n,\n        codeVerifier: o.codeVerifier,\n        redirectUri: o.redirectUri\n      };\n      return P.getToken(e, i, r).then(function (e) {\n        return c(e, i), e;\n      }).fin(function () {\n        P.clearMeta(e);\n      });\n    }\n\n    function c(e, t) {\n      if (e.error || e.error_description) throw new C(e.error, e.error_description);\n      if (e.state !== t.state) throw new U(\"OAuth flow response state doesn't match request state\");\n    }\n\n    function f(e, t, n, r) {\n      r = r || {};\n      var o = t.responseType,\n          s = A.clone(t.scopes),\n          a = t.clientId || e.options.clientId;\n      return new _().then(function () {\n        return c(n, t), n.code ? (o = [\"token\", \"id_token\"], u(e, t, n.code, r)) : n;\n      }).then(function (n) {\n        var o = {};\n\n        if (n.access_token && (o.token = {\n          accessToken: n.access_token,\n          expiresAt: Number(n.expires_in) + Math.floor(Date.now() / 1e3),\n          tokenType: n.token_type,\n          scopes: s,\n          authorizeUrl: r.authorizeUrl,\n          userinfoUrl: r.userinfoUrl\n        }), n.id_token) {\n          var u = e.token.decode(n.id_token),\n              c = {\n            idToken: n.id_token,\n            claims: u.payload,\n            expiresAt: u.payload.exp,\n            scopes: s,\n            authorizeUrl: r.authorizeUrl,\n            issuer: r.issuer,\n            clientId: a\n          },\n              f = {\n            clientId: a,\n            issuer: r.issuer,\n            nonce: t.nonce\n          };\n          return void 0 !== t.ignoreSignature && (f.ignoreSignature = t.ignoreSignature), i(e, c, f).then(function () {\n            return o.id_token = c, o;\n          });\n        }\n\n        return o;\n      }).then(function (e) {\n        return Array.isArray(o) ? ([\"token\", \"id_token\"].filter(function (e) {\n          return -1 !== o.indexOf(e);\n        }).forEach(function (t) {\n          if (!e[t]) throw new U(\"Unable to parse OAuth flow response: \" + t + \" was not returned.\");\n        }), o.map(function (t) {\n          return e[t];\n        })) : e[o];\n      });\n    }\n\n    function p(e) {\n      return {\n        pkce: e.options.pkce || !1,\n        clientId: e.options.clientId,\n        redirectUri: e.options.redirectUri || window.location.href,\n        responseType: \"id_token\",\n        responseMode: \"okta_post_message\",\n        state: x.generateState(),\n        nonce: x.generateNonce(),\n        scopes: [\"openid\", \"email\"],\n        ignoreSignature: e.options.ignoreSignature\n      };\n    }\n\n    function l(e) {\n      if (!e.clientId) throw new U(\"A clientId must be specified in the OktaAuth constructor to get a token\");\n      if (A.isString(e.responseType) && -1 !== e.responseType.indexOf(\" \")) throw new U(\"Multiple OAuth responseTypes must be defined as an array\");\n      var t = A.removeNils({\n        client_id: e.clientId,\n        code_challenge: e.codeChallenge,\n        code_challenge_method: e.codeChallengeMethod,\n        display: e.display,\n        idp: e.idp,\n        idp_scope: e.idpScope,\n        login_hint: e.loginHint,\n        max_age: e.maxAge,\n        nonce: e.nonce,\n        prompt: e.prompt,\n        redirect_uri: e.redirectUri,\n        response_mode: e.responseMode,\n        response_type: e.responseType,\n        sessionToken: e.sessionToken,\n        state: e.state\n      });\n      if ([\"idp_scope\", \"response_type\"].forEach(function (e) {\n        Array.isArray(t[e]) && (t[e] = t[e].join(\" \"));\n      }), -1 !== e.responseType.indexOf(\"id_token\") && -1 === e.scopes.indexOf(\"openid\")) throw new U(\"openid scope must be specified in the scopes argument when requesting an id_token\");\n      return t.scope = e.scopes.join(\" \"), t;\n    }\n\n    function d(e) {\n      var t = l(e);\n      return A.toQueryParams(t);\n    }\n\n    function h(e, t, n) {\n      return t = t || {}, n = n || {}, m(e, t).then(function (r) {\n        function o(e) {\n          return /^(https?\\:\\/\\/)?([^:\\/?#]*(?:\\:[0-9]+)?)/.exec(e)[0];\n        }\n\n        function i(e) {\n          if (!e || e.closed) return b.reject(new U(\"Unable to parse OAuth flow response\")), !0;\n        }\n\n        var u = {\n          prompt: \"none\",\n          responseMode: \"okta_post_message\",\n          display: null\n        },\n            c = {\n          display: \"popup\"\n        };\n        t.sessionToken ? A.extend(r, u) : t.idp && A.extend(r, c);\n        var p, l, h;\n\n        try {\n          h = x.getOAuthUrls(e, r, n), l = t.codeVerifier ? h.tokenUrl : h.authorizeUrl, p = l + d(r);\n        } catch (e) {\n          return _.reject(e);\n        }\n\n        switch (r.sessionToken || null === r.display ? \"IFRAME\" : \"popup\" === r.display ? \"POPUP\" : \"IMPLICIT\") {\n          case \"IFRAME\":\n            var y = s(e, n.timeout, r.state),\n                g = x.loadFrame(p);\n            return y.then(function (t) {\n              return f(e, r, t, h);\n            }).fin(function () {\n              document.body.contains(g) && g.parentElement.removeChild(g);\n            });\n\n          case \"POPUP\":\n            var m;\n\n            if (\"okta_post_message\" === r.responseMode) {\n              if (!e.features.isPopupPostMessageSupported()) return _.reject(new U(\"This browser doesn't have full postMessage support\"));\n              m = s(e, n.timeout, r.state);\n            }\n\n            var v = {\n              popupTitle: n.popupTitle\n            },\n                w = x.loadPopup(p, v);\n\n            if (\"fragment\" === r.responseMode) {\n              var T = o(e.idToken.authorize._getLocationHref()),\n                  k = o(r.redirectUri);\n              if (T !== k) return _.reject(new U(\"Using fragment, the redirectUri origin (\" + k + \") must match the origin of this page (\" + T + \")\"));\n              m = a(e, w, n.timeout);\n            }\n\n            var b = _.defer(),\n                E = setInterval(function () {\n              i(w) && clearInterval(E);\n            }, 500);\n\n            return m.then(function (e) {\n              b.resolve(e);\n            }).fail(function (e) {\n              b.reject(e);\n            }), b.promise.then(function (t) {\n              return f(e, r, t, h);\n            }).fin(function () {\n              clearInterval(E), w && !w.closed && w.close();\n            });\n\n          default:\n            return _.reject(new U(\"The full page redirect flow is not supported\"));\n        }\n      });\n    }\n\n    function y(e, t, n) {\n      var r = A.clone(t) || {};\n      return A.extend(r, {\n        prompt: \"none\",\n        responseMode: \"okta_post_message\",\n        display: null\n      }), h(e, r, n);\n    }\n\n    function g(e, t, n) {\n      var r = A.clone(t) || {};\n      return A.extend(r, {\n        display: \"popup\",\n        responseMode: \"okta_post_message\"\n      }), h(e, r, n);\n    }\n\n    function m(e, t) {\n      t = A.clone(t) || {}, \"authorization_code\" === t.grantType && (t.pkce = !0);\n      var n = p(e);\n      return A.extend(n, t), !0 !== n.pkce ? _.resolve(n) : e.features.isPKCESupported() ? (n.codeChallengeMethod || (n.codeChallengeMethod = P.DEFAULT_CODE_CHALLENGE_METHOD), n.responseType = \"code\", x.getWellKnown(e, null).then(function (e) {\n        if (-1 === (e.code_challenge_methods_supported || []).indexOf(n.codeChallengeMethod)) throw new U(\"Invalid code_challenge_method\");\n      }).then(function () {\n        var t = P.generateVerifier(n.codeVerifier),\n            r = {\n          codeVerifier: t,\n          redirectUri: n.redirectUri\n        };\n        return P.saveMeta(e, r), P.computeChallenge(t);\n      }).then(function (e) {\n        var t = A.clone(n) || {};\n        return A.extend(t, n, {\n          codeChallenge: e\n        }), t;\n      })) : _.reject(new U(\"This browser doesn't support PKCE\"));\n    }\n\n    function v(e, t, n) {\n      return t = A.clone(t) || {}, m(e, t).then(function (r) {\n        t.responseMode || (r.responseType.includes(\"code\") && !r.pkce ? r.responseMode = \"query\" : r.responseMode = e.options.responseMode || \"fragment\");\n        var o = x.getOAuthUrls(e, r, n),\n            i = o.authorizeUrl + d(r),\n            s = \"https:\" === window.location.protocol,\n            a = {\n          secure: s,\n          sameSite: s ? \"none\" : \"lax\"\n        };\n        j.set(R.REDIRECT_OAUTH_PARAMS_COOKIE_NAME, JSON.stringify({\n          responseType: r.responseType,\n          state: r.state,\n          nonce: r.nonce,\n          scopes: r.scopes,\n          clientId: r.clientId,\n          urls: o,\n          ignoreSignature: r.ignoreSignature\n        }), null, a), j.set(R.REDIRECT_NONCE_COOKIE_NAME, r.nonce, null, a), j.set(R.REDIRECT_STATE_COOKIE_NAME, r.state, null, a), e.token.getWithRedirect._setLocation(i);\n      });\n    }\n\n    function w(e, t) {\n      if (!x.isToken(t)) return _.reject(new U(\"Renew must be passed a token with an array of scopes and an accessToken or idToken\"));\n      var n;\n      return n = e.options.pkce ? \"code\" : t.accessToken ? \"token\" : \"id_token\", e.token.getWithoutPrompt({\n        responseType: n,\n        scopes: t.scopes\n      }, {\n        authorizeUrl: t.authorizeUrl,\n        userinfoUrl: t.userinfoUrl,\n        issuer: t.issuer\n      });\n    }\n\n    function T(e) {\n      var t = e.token.parseFromUrl._getHistory(),\n          n = e.token.parseFromUrl._getDocument(),\n          r = e.token.parseFromUrl._getLocation();\n\n      t && t.replaceState ? t.replaceState(null, n.title, r.pathname + r.search) : r.hash = \"\";\n    }\n\n    function k(e) {\n      var t = e.token.parseFromUrl._getHistory(),\n          n = e.token.parseFromUrl._getDocument(),\n          r = e.token.parseFromUrl._getLocation();\n\n      t && t.replaceState ? t.replaceState(null, n.title, r.pathname + r.hash) : r.search = \"\";\n    }\n\n    function b(e, t) {\n      t = t || {}, A.isString(t) && (t = {\n        url: t\n      });\n\n      var n,\n          r = t.url,\n          o = t.responseMode || e.options.responseMode || \"fragment\",\n          i = e.token.parseFromUrl._getLocation();\n\n      if (!(n = \"query\" === o ? r ? r.substring(r.indexOf(\"?\")) : i.search : r ? r.substring(r.indexOf(\"#\")) : i.hash)) return _.reject(new U(\"Unable to parse a token from the url\"));\n      var s = j.get(R.REDIRECT_OAUTH_PARAMS_COOKIE_NAME);\n      if (!s) return _.reject(new U(\"Unable to retrieve OAuth redirect params cookie\"));\n\n      try {\n        var a = JSON.parse(s),\n            u = a.urls;\n        delete a.urls, j.delete(R.REDIRECT_OAUTH_PARAMS_COOKIE_NAME);\n      } catch (e) {\n        return _.reject(new U(\"Unable to parse the \" + R.REDIRECT_OAUTH_PARAMS_COOKIE_NAME + \" cookie: \" + e.message));\n      }\n\n      return _.resolve(x.urlParamsToObject(n)).then(function (t) {\n        return r || (\"query\" === o ? k(e) : T(e)), f(e, a, t, u);\n      });\n    }\n\n    function E(e, t) {\n      return t && (x.isToken(t) || t.accessToken || t.userinfoUrl) ? S.httpRequest(e, {\n        url: t.userinfoUrl,\n        method: \"GET\",\n        accessToken: t.accessToken\n      }).fail(function (e) {\n        if (e.xhr && (401 === e.xhr.status || 403 === e.xhr.status)) {\n          var t;\n\n          if (e.xhr.headers && A.isFunction(e.xhr.headers.get) && e.xhr.headers.get(\"WWW-Authenticate\") ? t = e.xhr.headers.get(\"WWW-Authenticate\") : A.isFunction(e.xhr.getResponseHeader) && (t = e.xhr.getResponseHeader(\"WWW-Authenticate\")), t) {\n            var n = t.match(/error=\"(.*?)\"/) || [],\n                r = t.match(/error_description=\"(.*?)\"/) || [],\n                o = n[1],\n                i = r[1];\n            o && i && (e = new C(o, i));\n          }\n        }\n\n        throw e;\n      }) : _.reject(new U(\"getUserInfo requires an access token object\"));\n    }\n\n    var S = n(3),\n        A = n(0),\n        x = n(10),\n        _ = n(5),\n        O = n(26),\n        U = n(1),\n        C = n(27),\n        R = n(2),\n        j = n(4).storage,\n        P = n(28);\n\n    e.exports = {\n      revokeToken: r,\n      getToken: h,\n      getWithoutPrompt: y,\n      getWithPopup: g,\n      getWithRedirect: v,\n      parseFromUrl: b,\n      decodeToken: o,\n      renewToken: w,\n      getUserInfo: E,\n      verifyToken: i,\n      handleOAuthResponse: f,\n      prepareOauthParams: m\n    };\n  }, function (e, t, n) {\n    function r(e, t) {\n      t = o.clone(t);\n      var n = {\n        name: \"RSASSA-PKCS1-v1_5\",\n        hash: {\n          name: \"SHA-256\"\n        }\n      },\n          r = [\"verify\"];\n      return delete t.use, crypto.subtle.importKey(\"jwk\", t, n, !0, r).then(function (t) {\n        var r = e.split(\".\"),\n            i = o.stringToBuffer(r[0] + \".\" + r[1]),\n            s = o.base64UrlDecode(r[2]),\n            a = o.stringToBuffer(s);\n        return crypto.subtle.verify(n, t, a, i);\n      });\n    }\n\n    var o = n(0);\n    e.exports = {\n      verifyToken: r\n    };\n  }, function (e, t) {\n    function n(e, t) {\n      this.name = \"OAuthError\", this.message = t, this.errorCode = e, this.errorSummary = t;\n    }\n\n    n.prototype = new Error(), e.exports = n;\n  }, function (e, t, n) {\n    function r(e) {\n      return (\"0\" + e.toString(16)).substr(-2);\n    }\n\n    function o(e) {\n      var t = new Uint8Array(Math.ceil(e / 2));\n      return crypto.getRandomValues(t), Array.from(t, r).join(\"\").slice(0, e);\n    }\n\n    function i(e) {\n      var t = e || \"\";\n      return t.length < g && (t += o(g - t.length)), encodeURIComponent(t).slice(0, m);\n    }\n\n    function s(e, t) {\n      e.options.storageUtil.getPKCEStorage().setStorage(t);\n    }\n\n    function a(e) {\n      return e.options.storageUtil.getPKCEStorage().getStorage();\n    }\n\n    function u(e) {\n      e.options.storageUtil.getPKCEStorage().clearStorage();\n    }\n\n    function c(e) {\n      var t = new TextEncoder().encode(e);\n      return crypto.subtle.digest(\"SHA-256\", t).then(function (e) {\n        var t = String.fromCharCode.apply(null, new Uint8Array(e));\n        return y.stringToBase64Url(t);\n      });\n    }\n\n    function f(e) {\n      if (!e.clientId) throw new d(\"A clientId must be specified in the OktaAuth constructor to get a token\");\n      if (!e.redirectUri) throw new d(\"The redirectUri passed to /authorize must also be passed to /token\");\n      if (!e.authorizationCode) throw new d(\"An authorization code (returned from /authorize) must be passed to /token\");\n      if (!e.codeVerifier) throw new d('The \"codeVerifier\" (generated and saved by your app) must be passed to /token');\n    }\n\n    function p(e) {\n      var t = y.removeNils({\n        client_id: e.clientId,\n        redirect_uri: e.redirectUri,\n        grant_type: \"authorization_code\",\n        code: e.authorizationCode,\n        code_verifier: e.codeVerifier\n      });\n      return y.toQueryParams(t).slice(1);\n    }\n\n    function l(e, t, n) {\n      f(t);\n      var r = p(t);\n      return h.httpRequest(e, {\n        url: n.tokenUrl,\n        method: \"POST\",\n        args: r,\n        withCredentials: !1,\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        }\n      });\n    }\n\n    var d = n(1),\n        h = n(3),\n        y = n(0),\n        g = 43,\n        m = 128;\n    e.exports = {\n      DEFAULT_CODE_CHALLENGE_METHOD: \"S256\",\n      generateVerifier: i,\n      clearMeta: u,\n      saveMeta: s,\n      loadMeta: a,\n      computeChallenge: c,\n      getToken: l\n    };\n  }, function (e, t, n) {\n    function r(e, t) {\n      return t.expiresAt - e.options.expireEarlySeconds;\n    }\n\n    function o(e, t) {\n      return r(e, t) <= e.clock.now();\n    }\n\n    function i(e, t, n) {\n      e.emitter.emit(\"expired\", t, n);\n    }\n\n    function s(e, t) {\n      e.emitter.emit(\"error\", t);\n    }\n\n    function a(e, t) {\n      clearTimeout(e.expireTimeouts[t]), delete e.expireTimeouts[t], delete e.renewPromise[t];\n    }\n\n    function u(e) {\n      var t = e.expireTimeouts;\n\n      for (var n in t) t.hasOwnProperty(n) && a(e, n);\n    }\n\n    function c(e, t, n, o) {\n      var s = r(t, o),\n          u = 1e3 * Math.max(s - t.clock.now(), 0);\n      a(t, n);\n      var c = setTimeout(function () {\n        i(t, n, o);\n      }, u);\n      t.expireTimeouts[n] = c;\n    }\n\n    function f(e, t, n) {\n      try {\n        var r = n.getStorage();\n      } catch (e) {\n        return void s(t, e);\n      }\n\n      for (var o in r) if (r.hasOwnProperty(o)) {\n        var i = r[o];\n        c(e, t, o, i);\n      }\n    }\n\n    function p(e, t, n, r, o) {\n      var i = n.getStorage();\n      if (!v.isObject(o) || !o.scopes || !o.expiresAt && 0 !== o.expiresAt || !o.idToken && !o.accessToken) throw new w(\"Token must be an Object with scopes, expiresAt, and an idToken or accessToken properties\");\n      i[r] = o, n.setStorage(i), c(e, t, r, o);\n    }\n\n    function l(e, t) {\n      return e.getStorage()[t];\n    }\n\n    function d(e, t, n, r) {\n      return k.Promise(function (i) {\n        var s = l(n, r);\n        return i(s && o(t, s) ? t.options.autoRenew ? y(e, t, n, r) : h(t, n, r) : s);\n      });\n    }\n\n    function h(e, t, n) {\n      a(e, n);\n      var r = t.getStorage();\n      delete r[n], t.setStorage(r);\n    }\n\n    function y(e, t, n, r) {\n      var o = t.renewPromise[r];\n      if (o) return o;\n\n      try {\n        var i = l(n, r);\n        if (!i) throw new w(\"The tokenManager has no token for the key: \" + r);\n      } catch (e) {\n        return k.reject(e);\n      }\n\n      return a(t, r), t.renewPromise[r] = e.token.renew(i).then(function (o) {\n        var s = o;\n        o instanceof Array && (s = o.find(function (e) {\n          return e.idToken && i.idToken || e.accessToken && i.accessToken;\n        }));\n        var a = l(n, r);\n        if (a) return p(e, t, n, r, s), t.emitter.emit(\"renewed\", r, s, a), s;\n      }).catch(function (e) {\n        throw \"OAuthError\" !== e.name && \"AuthSdkError\" !== e.name || (h(t, n, r), e.tokenKey = r, e.accessToken = !!i.accessToken, s(t, e)), e;\n      }).finally(function () {\n        delete t.renewPromise[r];\n      }), t.renewPromise[r];\n    }\n\n    function g(e, t) {\n      u(e), t.clearStorage();\n    }\n\n    function m(e, t) {\n      t = v.extend({}, A, v.removeNils(t)), \"localStorage\" !== t.storage || T.browserHasLocalStorage() || (v.warn(\"This browser doesn't support localStorage. Switching to sessionStorage.\"), t.storage = \"sessionStorage\"), \"sessionStorage\" !== t.storage || T.browserHasSessionStorage() || (v.warn(\"This browser doesn't support sessionStorage. Switching to cookie-based storage.\"), t.storage = \"cookie\");\n      var n;\n      if (\"object\" == typeof t.storage) n = t.storage;else switch (t.storage) {\n        case \"localStorage\":\n          n = localStorage;\n          break;\n\n        case \"sessionStorage\":\n          n = sessionStorage;\n          break;\n\n        case \"cookie\":\n          n = T.getCookieStorage(t);\n          break;\n\n        case \"memory\":\n          n = T.getInMemoryStorage();\n          break;\n\n        default:\n          throw new w(\"Unrecognized storage option\");\n      }\n      var r = t.storageKey || b.TOKEN_STORAGE_NAME,\n          o = E(n, r),\n          i = S.create(e, t),\n          s = {\n        clock: i,\n        options: t,\n        emitter: e.emitter,\n        expireTimeouts: {},\n        renewPromise: {}\n      };\n      this.add = v.bind(p, this, e, s, o), this.get = v.bind(d, this, e, s, o), this.remove = v.bind(h, this, s, o), this.clear = v.bind(g, this, s, o), this.renew = v.bind(y, this, e, s, o), this.on = v.bind(s.emitter.on, s.emitter), this.off = v.bind(s.emitter.off, s.emitter), f(e, s, o);\n    }\n\n    var v = n(0),\n        w = n(1),\n        T = n(4),\n        k = n(5),\n        b = n(2),\n        E = n(6),\n        S = n(30),\n        A = {\n      autoRenew: !0,\n      storage: \"localStorage\",\n      expireEarlySeconds: 30\n    };\n    e.exports = m;\n  }, function (e, t, n) {\n    function r(e) {\n      this.localOffset = parseInt(e || 0);\n    }\n\n    n(0).extend(r.prototype, {\n      now: function () {\n        return (Date.now() + this.localOffset) / 1e3;\n      }\n    }), r.create = function () {\n      return new r(0);\n    }, e.exports = r;\n  }]);\n});","map":null,"metadata":{},"sourceType":"script"}